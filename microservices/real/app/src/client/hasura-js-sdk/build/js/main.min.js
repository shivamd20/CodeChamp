var hasura = (function () {
'use strict';

(function(self) {
  'use strict';

  if (self.fetch) {
    return
  }

  var support = {
    searchParams: 'URLSearchParams' in self,
    iterable: 'Symbol' in self && 'iterator' in Symbol,
    blob: 'FileReader' in self && 'Blob' in self && (function() {
      try {
        new Blob();
        return true
      } catch(e) {
        return false
      }
    })(),
    formData: 'FormData' in self,
    arrayBuffer: 'ArrayBuffer' in self
  };

  if (support.arrayBuffer) {
    var viewClasses = [
      '[object Int8Array]',
      '[object Uint8Array]',
      '[object Uint8ClampedArray]',
      '[object Int16Array]',
      '[object Uint16Array]',
      '[object Int32Array]',
      '[object Uint32Array]',
      '[object Float32Array]',
      '[object Float64Array]'
    ];

    var isDataView = function(obj) {
      return obj && DataView.prototype.isPrototypeOf(obj)
    };

    var isArrayBufferView = ArrayBuffer.isView || function(obj) {
      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1
    };
  }

  function normalizeName(name) {
    if (typeof name !== 'string') {
      name = String(name);
    }
    if (/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)) {
      throw new TypeError('Invalid character in header field name')
    }
    return name.toLowerCase()
  }

  function normalizeValue(value) {
    if (typeof value !== 'string') {
      value = String(value);
    }
    return value
  }

  // Build a destructive iterator for the value list
  function iteratorFor(items) {
    var iterator = {
      next: function() {
        var value = items.shift();
        return {done: value === undefined, value: value}
      }
    };

    if (support.iterable) {
      iterator[Symbol.iterator] = function() {
        return iterator
      };
    }

    return iterator
  }

  function Headers(headers) {
    this.map = {};

    if (headers instanceof Headers) {
      headers.forEach(function(value, name) {
        this.append(name, value);
      }, this);
    } else if (Array.isArray(headers)) {
      headers.forEach(function(header) {
        this.append(header[0], header[1]);
      }, this);
    } else if (headers) {
      Object.getOwnPropertyNames(headers).forEach(function(name) {
        this.append(name, headers[name]);
      }, this);
    }
  }

  Headers.prototype.append = function(name, value) {
    name = normalizeName(name);
    value = normalizeValue(value);
    var oldValue = this.map[name];
    this.map[name] = oldValue ? oldValue+','+value : value;
  };

  Headers.prototype['delete'] = function(name) {
    delete this.map[normalizeName(name)];
  };

  Headers.prototype.get = function(name) {
    name = normalizeName(name);
    return this.has(name) ? this.map[name] : null
  };

  Headers.prototype.has = function(name) {
    return this.map.hasOwnProperty(normalizeName(name))
  };

  Headers.prototype.set = function(name, value) {
    this.map[normalizeName(name)] = normalizeValue(value);
  };

  Headers.prototype.forEach = function(callback, thisArg) {
    for (var name in this.map) {
      if (this.map.hasOwnProperty(name)) {
        callback.call(thisArg, this.map[name], name, this);
      }
    }
  };

  Headers.prototype.keys = function() {
    var items = [];
    this.forEach(function(value, name) { items.push(name); });
    return iteratorFor(items)
  };

  Headers.prototype.values = function() {
    var items = [];
    this.forEach(function(value) { items.push(value); });
    return iteratorFor(items)
  };

  Headers.prototype.entries = function() {
    var items = [];
    this.forEach(function(value, name) { items.push([name, value]); });
    return iteratorFor(items)
  };

  if (support.iterable) {
    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;
  }

  function consumed(body) {
    if (body.bodyUsed) {
      return Promise.reject(new TypeError('Already read'))
    }
    body.bodyUsed = true;
  }

  function fileReaderReady(reader) {
    return new Promise(function(resolve, reject) {
      reader.onload = function() {
        resolve(reader.result);
      };
      reader.onerror = function() {
        reject(reader.error);
      };
    })
  }

  function readBlobAsArrayBuffer(blob) {
    var reader = new FileReader();
    var promise = fileReaderReady(reader);
    reader.readAsArrayBuffer(blob);
    return promise
  }

  function readBlobAsText(blob) {
    var reader = new FileReader();
    var promise = fileReaderReady(reader);
    reader.readAsText(blob);
    return promise
  }

  function readArrayBufferAsText(buf) {
    var view = new Uint8Array(buf);
    var chars = new Array(view.length);

    for (var i = 0; i < view.length; i++) {
      chars[i] = String.fromCharCode(view[i]);
    }
    return chars.join('')
  }

  function bufferClone(buf) {
    if (buf.slice) {
      return buf.slice(0)
    } else {
      var view = new Uint8Array(buf.byteLength);
      view.set(new Uint8Array(buf));
      return view.buffer
    }
  }

  function Body() {
    this.bodyUsed = false;

    this._initBody = function(body) {
      this._bodyInit = body;
      if (!body) {
        this._bodyText = '';
      } else if (typeof body === 'string') {
        this._bodyText = body;
      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
        this._bodyBlob = body;
      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
        this._bodyFormData = body;
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this._bodyText = body.toString();
      } else if (support.arrayBuffer && support.blob && isDataView(body)) {
        this._bodyArrayBuffer = bufferClone(body.buffer);
        // IE 10-11 can't handle a DataView body.
        this._bodyInit = new Blob([this._bodyArrayBuffer]);
      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
        this._bodyArrayBuffer = bufferClone(body);
      } else {
        throw new Error('unsupported BodyInit type')
      }

      if (!this.headers.get('content-type')) {
        if (typeof body === 'string') {
          this.headers.set('content-type', 'text/plain;charset=UTF-8');
        } else if (this._bodyBlob && this._bodyBlob.type) {
          this.headers.set('content-type', this._bodyBlob.type);
        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');
        }
      }
    };

    if (support.blob) {
      this.blob = function() {
        var rejected = consumed(this);
        if (rejected) {
          return rejected
        }

        if (this._bodyBlob) {
          return Promise.resolve(this._bodyBlob)
        } else if (this._bodyArrayBuffer) {
          return Promise.resolve(new Blob([this._bodyArrayBuffer]))
        } else if (this._bodyFormData) {
          throw new Error('could not read FormData body as blob')
        } else {
          return Promise.resolve(new Blob([this._bodyText]))
        }
      };

      this.arrayBuffer = function() {
        if (this._bodyArrayBuffer) {
          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)
        } else {
          return this.blob().then(readBlobAsArrayBuffer)
        }
      };
    }

    this.text = function() {
      var rejected = consumed(this);
      if (rejected) {
        return rejected
      }

      if (this._bodyBlob) {
        return readBlobAsText(this._bodyBlob)
      } else if (this._bodyArrayBuffer) {
        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))
      } else if (this._bodyFormData) {
        throw new Error('could not read FormData body as text')
      } else {
        return Promise.resolve(this._bodyText)
      }
    };

    if (support.formData) {
      this.formData = function() {
        return this.text().then(decode)
      };
    }

    this.json = function() {
      return this.text().then(JSON.parse)
    };

    return this
  }

  // HTTP methods whose capitalization should be normalized
  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];

  function normalizeMethod(method) {
    var upcased = method.toUpperCase();
    return (methods.indexOf(upcased) > -1) ? upcased : method
  }

  function Request(input, options) {
    options = options || {};
    var body = options.body;

    if (input instanceof Request) {
      if (input.bodyUsed) {
        throw new TypeError('Already read')
      }
      this.url = input.url;
      this.credentials = input.credentials;
      if (!options.headers) {
        this.headers = new Headers(input.headers);
      }
      this.method = input.method;
      this.mode = input.mode;
      if (!body && input._bodyInit != null) {
        body = input._bodyInit;
        input.bodyUsed = true;
      }
    } else {
      this.url = String(input);
    }

    this.credentials = options.credentials || this.credentials || 'omit';
    if (options.headers || !this.headers) {
      this.headers = new Headers(options.headers);
    }
    this.method = normalizeMethod(options.method || this.method || 'GET');
    this.mode = options.mode || this.mode || null;
    this.referrer = null;

    if ((this.method === 'GET' || this.method === 'HEAD') && body) {
      throw new TypeError('Body not allowed for GET or HEAD requests')
    }
    this._initBody(body);
  }

  Request.prototype.clone = function() {
    return new Request(this, { body: this._bodyInit })
  };

  function decode(body) {
    var form = new FormData();
    body.trim().split('&').forEach(function(bytes) {
      if (bytes) {
        var split = bytes.split('=');
        var name = split.shift().replace(/\+/g, ' ');
        var value = split.join('=').replace(/\+/g, ' ');
        form.append(decodeURIComponent(name), decodeURIComponent(value));
      }
    });
    return form
  }

  function parseHeaders(rawHeaders) {
    var headers = new Headers();
    rawHeaders.split(/\r?\n/).forEach(function(line) {
      var parts = line.split(':');
      var key = parts.shift().trim();
      if (key) {
        var value = parts.join(':').trim();
        headers.append(key, value);
      }
    });
    return headers
  }

  Body.call(Request.prototype);

  function Response(bodyInit, options) {
    if (!options) {
      options = {};
    }

    this.type = 'default';
    this.status = 'status' in options ? options.status : 200;
    this.ok = this.status >= 200 && this.status < 300;
    this.statusText = 'statusText' in options ? options.statusText : 'OK';
    this.headers = new Headers(options.headers);
    this.url = options.url || '';
    this._initBody(bodyInit);
  }

  Body.call(Response.prototype);

  Response.prototype.clone = function() {
    return new Response(this._bodyInit, {
      status: this.status,
      statusText: this.statusText,
      headers: new Headers(this.headers),
      url: this.url
    })
  };

  Response.error = function() {
    var response = new Response(null, {status: 0, statusText: ''});
    response.type = 'error';
    return response
  };

  var redirectStatuses = [301, 302, 303, 307, 308];

  Response.redirect = function(url, status) {
    if (redirectStatuses.indexOf(status) === -1) {
      throw new RangeError('Invalid status code')
    }

    return new Response(null, {status: status, headers: {location: url}})
  };

  self.Headers = Headers;
  self.Request = Request;
  self.Response = Response;

  self.fetch = function(input, init) {
    return new Promise(function(resolve, reject) {
      var request = new Request(input, init);
      var xhr = new XMLHttpRequest();

      xhr.onload = function() {
        var options = {
          status: xhr.status,
          statusText: xhr.statusText,
          headers: parseHeaders(xhr.getAllResponseHeaders() || '')
        };
        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');
        var body = 'response' in xhr ? xhr.response : xhr.responseText;
        resolve(new Response(body, options));
      };

      xhr.onerror = function() {
        reject(new TypeError('Network request failed'));
      };

      xhr.ontimeout = function() {
        reject(new TypeError('Network request failed'));
      };

      xhr.open(request.method, request.url, true);

      if (request.credentials === 'include') {
        xhr.withCredentials = true;
      }

      if ('responseType' in xhr && support.blob) {
        xhr.responseType = 'blob';
      }

      request.headers.forEach(function(value, name) {
        xhr.setRequestHeader(name, value);
      });

      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);
    })
  };
  self.fetch.polyfill = true;
})(typeof self !== 'undefined' ? self : window);

var logError = function logError(i) {
  console.error(i);
};

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();







var _extends = Object.assign || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];

    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }

  return target;
};

var defaultHeaders = {
    'Content-Type': 'application/json'
};

var emitError = function emitError(options, response) {
    logError('>>>');
    logError(options);
    logError('<<<');
    logError(response);
};

var defaultExceptionHandler = function defaultExceptionHandler() {
    return 0;
};

var maybeResponseJSON = function maybeResponseJSON(options, response, onSuccess) {
    var onException = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : defaultExceptionHandler;

    response.text().then(function (t) {
        if (response.headers.get('Content-Type').indexOf('application/json') > -1) {
            onSuccess(JSON.parse(t));
        } else {
            onSuccess(t);
        }
    }, function (e) {
        logError('Successful response, but failed to read response: ');
        emitError(options, response);
        logError(e);
        onException();
    });
};

var hasuraGenUrl = function hasuraGenUrl(projectConfig) {
    return function (service, path) {
        var url = projectConfig.scheme + '://' + service + '.' + projectConfig.baseDomain + path;
        return url;
    };
};

var hasuraFetch = function hasuraFetch(user, projectConfig) {

    return function (options, onSuccess, onError) {
        var onException = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : defaultExceptionHandler;

        if (!projectConfig.baseDomain) {
            logError('Please use hasura.setProject or hasura.setBaseDomain before making any API calls.');
            return;
        }

        var headers = _extends({}, defaultHeaders, options.headers);

        // Add the authorization header
        if (user.token && options.role !== 'anonymous') {
            headers.Authorization = 'Bearer ' + user.token;
        }

        if (options.role && options.role !== 'anonymous') {
            headers['X-Hasura-Role'] = options.role;
        }

        var url = hasuraGenUrl(projectConfig)(options.service, options.path);

        fetch(url, {
            method: options.method ? options.method : 'POST',
            headers: headers,
            body: options.json ? JSON.stringify(options.json) : options.body ? options.body : null
        }).then(function (response) {
            if (response.status >= 200 && response.status < 300) {
                maybeResponseJSON(options, response, onSuccess, onException);
            } else if (response.status >= 300 && response.status < 400) {
                logError('Redirect response received. Are you sure you\'re querying the right endpoint?');
                emitError(options, response);
                maybeResponseJSON(options, response, onError);
            } else if (response.status >= 400 && response.status < 500) {
                logError('Invalid request made (bad request):');
                emitError(options, response);
                maybeResponseJSON(options, response, onError);
            } else if (response.status > 500) {
                logError('Server error:');
                emitError(options, response);
                maybeResponseJSON(options, response, onError);
            } else {
                logError('Unhandled error in Hasura SDK. Please file an issue at github.com/hasura/support with the information below:');
                emitError(options, response);
                onException();
            }
        }, function (error) {
            logError('Failed to make request. Check http/https, service name, base domain or path values used?\n>>>');
            logError(options);
            logError('<<<');
            logError(error);
            onException(error);
        });
    };
};

var defaultExceptionHandler$1 = function defaultExceptionHandler() {
  return 0;
};

var Auth = function () {
  function Auth(hasura) {
    classCallCheck(this, Auth);

    this.hasura = hasura;
  }

  /* options: {
   *   recaptcha: ''
   * }
   *
   */


  createClass(Auth, [{
    key: 'signup',
    value: function signup(password, onSuccess) {
      var _this = this;

      var onError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultExceptionHandler$1;

      if (this.hasura.user.token) {
        logError('A user session already exists. Use this.hasura.logout() first?');
        onError({ 'code': 'already-logged-in' });
        return;
      }

      var body = { username: this.hasura.user.username, password: password };
      if (this.hasura.user.email) {
        body.email = this.hasura.user.email;
      }
      if (this.hasura.user.mobile) {
        body.mobile = this.hasura.user.mobile;
      }

      this.hasura.fetch({ service: 'auth', path: '/signup', json: body }, function (user) {
        _this.hasura.user = _extends({}, _this.hasura.user, {
          id: user.hasura_id,
          roles: user.hasura_roles
        });
        if (user.auth_token) {
          _this.hasura.user.token = user.auth_token;
        }
        _this.hasura.saveUser();
        onSuccess(user);
      }, function (r) {
        console.log(r);
        onError(r);
      });
    }
  }, {
    key: 'login',
    value: function login(password, onSuccess) {
      var _this2 = this;

      var onError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultExceptionHandler$1;

      if (this.hasura.user.token) {
        logError('A user session already exists. Use this.hasura.logout() first?');
        onError({ 'code': 'already-logged-in' });
        return;
      }

      this.hasura.fetch({ service: 'auth', path: '/login', json: { username: this.hasura.user.username, password: password } }, function (user) {
        _this2.hasura.user = _extends({}, _this2.hasura.user, {
          id: user.hasura_id,
          roles: user.hasura_roles,
          token: user.auth_token
        });
        _this2.hasura.saveUser();
        onSuccess(user);
      }, function (r) {
        console.log(r);
        onError(r);
      });
    }
  }, {
    key: 'logout',
    value: function logout(onSuccess) {
      var _this3 = this;

      var onError = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultExceptionHandler$1;

      this.hasura.fetch({ service: 'auth', path: '/user/logout' }, function () {
        _this3.hasura.clearUser();
        onSuccess();
      }, function (r) {
        console.log(r);
        onError(r);
      });
    }
  }, {
    key: 'signUpPromise',
    value: function signUpPromise(password) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self.signup(password, function (response) {
          resolve(response);
        }, function (error) {
          reject(error);
        }, function (exception) {
          reject(exception);
        });
      });
    }
  }, {
    key: 'loginPromise',
    value: function loginPromise(password) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self.login(password, function (response) {
          resolve(response);
        }, function (error) {
          reject(error);
        }, function (exception) {
          reject(exception);
        });
      });
    }
  }, {
    key: 'logoutPromise',
    value: function logoutPromise() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self.logout(function (response) {
          resolve(response);
        }, function (error) {
          reject(error);
        });
      });
    }
  }]);
  return Auth;
}();

var defaultExceptionHandler$2 = function defaultExceptionHandler() {
  return 0;
};

var Data = function () {
  function Data(hasura) {
    classCallCheck(this, Data);

    this.hasura = hasura;
  }

  createClass(Data, [{
    key: 'queryAsRole',
    value: function queryAsRole(role, query, onSuccess) {
      var onError = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : defaultExceptionHandler$2;

      this.query(query, onSuccess, onError, role);
    }
  }, {
    key: 'queryAsRolePromise',
    value: function queryAsRolePromise(role, query) {
      this.queryPromise(query, role);
    }
  }, {
    key: 'query',
    value: function query(_query, onSuccess) {
      var onError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultExceptionHandler$2;
      var role = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;

      var opts = { service: 'data', path: '/v1/query', json: _query };
      if (role) {
        opts.role = role;
      }
      this.hasura.fetch(opts, function (result) {
        onSuccess(result);
      }, function (e) {
        logError(e);
        onError(e);
      });
    }
  }, {
    key: 'queryPromise',
    value: function queryPromise(query, role) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self.query(query, function (success) {
          resolve(success);
        }, function (error) {
          reject(error);
        }, role);
      });
    }
  }]);
  return Data;
}();

var defaultExceptionHandler$3 = function defaultExceptionHandler() {
  return 0;
};

var guid = function guid() {
  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
    var r = Math.random() * 16 | 0,
        v = c == 'x' ? r : r & 0x3 | 0x8;
    return v.toString(16);
  });
};

var File = function () {
  function File(hasura) {
    classCallCheck(this, File);

    this.hasura = hasura;
  }

  createClass(File, [{
    key: 'queryPromise',
    value: function queryPromise(hasuraFetchOptions) {
      return new Promise(function (resolve, reject) {
        this.query(hasuraFetchOptions, function (response) {
          resolve(response);
        }, function (error) {
          reject(error);
        });
      });
    }
  }, {
    key: 'query',
    value: function query(hasuraFetchOptions, onSuccess, onError) {
      var opts = hasuraFetchOptions;
      this.hasura.fetch(opts, function (result) {
        onSuccess(result);
      }, function (e) {
        logError(e);
        onError(e);
      });
    }
  }, {
    key: 'uploadPromise',
    value: function uploadPromise(fileInput) {
      return new Promise(function (resolve, reject) {
        this.upload(fileInput, function (response) {
          resolve(response);
        }, function (error) {
          reject(error);
        });
      });
    }
  }, {
    key: 'upload',
    value: function upload(fileInput, onSuccess) {
      var onError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultExceptionHandler$3;

      var file = fileInput.files[0];
      if (!file) {
        logError('No file received from expected input[type=file] DOM element.');
        logError(fileInput);
        return;
      }

      var hasuraFetchOptions = {
        service: 'filestore',
        path: '/v1/file/' + guid(),
        headers: { 'Content-Type': file.type },
        body: file
      };

      this.query(hasuraFetchOptions, onSuccess, onError);
    }
  }, {
    key: 'delete',
    value: function _delete(fileId, onSuccess) {
      var onError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultExceptionHandler$3;

      var hasuraFetchOptions = {
        service: 'filestore',
        method: 'DELETE',
        path: '/v1/file/' + fileId
      };

      this.query(hasuraFetchOptions, onSuccess, onError);
    }
  }, {
    key: 'deletePromise',
    value: function deletePromise(fileId) {
      return new Promise(function (resolve, reject) {
        this.delete(fileId, function (response) {
          resolve(response);
        }, function (error) {
          reject(error);
        });
      });
    }
  }, {
    key: 'download',
    value: function download(fileId) {
      var link = document.createElement('a');
      link.download = fileId;
      link.href = this.hasura.genUrl('filestore', '/v1/file/' + fileId);
      link.click();
    }
  }]);
  return File;
}();

var anonUser = {
  username: 'anonymous',
  id: 0,
  roles: ['anonymous'],
  token: null
};

var localStorage = window.localStorage;

var hasura = function () {
  /*
   * hasura.user
   * hasura.auth (signup/login/logout)
   * hasura.data.query({}, onSuccess, onError)
   * hasura.fetch(options, onSuccess, onError)
   */
  function hasura() {
    classCallCheck(this, hasura);

    // Load user-data from localStorage
    var u = localStorage.getItem('hasura.user');
    if (u) {
      this.user = JSON.parse(u);
    } else {
      this.user = anonUser;
    }

    this.projectConfig = {
      scheme: 'https',
      baseDomain: null
    };
    this.resetFetch();
    this.auth = new Auth(this);
    this.data = new Data(this);
    this.file = new File(this);
  }

  createClass(hasura, [{
    key: 'resetFetch',
    value: function resetFetch() {
      this.fetch = hasuraFetch(this.user, this.projectConfig);
      var self = this;
      this.fetchPromise = function (query) {
        return new Promise(function (resolve, reject) {
          self.fetch(query, function (response) {
            resolve(response);
          }, function (error) {
            reject(error);
          });
        });
      };
      this.genUrl = hasuraGenUrl(this.projectConfig);
      return this;
    }
  }, {
    key: 'setProject',
    value: function setProject(name) {
      this.projectConfig.baseDomain = name + '.hasura-app.io';
      this.resetFetch();
      return this;
    }
  }, {
    key: 'setBaseDomain',
    value: function setBaseDomain(baseDomain) {
      this.projectConfig.baseDomain = baseDomain;
      this.resetFetch();
      return this;
    }
  }, {
    key: 'disableHttps',
    value: function disableHttps() {
      this.projectConfig.scheme = 'http';
      this.resetFetch();
    }
  }, {
    key: 'setUsername',
    value: function setUsername(username) {
      this.user.username = username;
      this.saveUser();
    }
  }, {
    key: 'setUserInfo',
    value: function setUserInfo(userInfo) {
      var _this = this;

      this.user = _extends({}, this.user, {
        id: userInfo.hasura_id,
        roles: userInfo.hasura_roles,
        token: userInfo.auth_token
      });

      ['username', 'email', 'mobile'].map(function (x) {
        _this.user[x] = userInfo[x] ? userInfo[x] : _this.user[x];
      });

      this.saveUser();
    }
  }, {
    key: 'saveUser',
    value: function saveUser() {
      localStorage.setItem('hasura.user', JSON.stringify(this.user));
      this.resetFetch();
    }
  }, {
    key: 'clearUser',
    value: function clearUser() {
      this.user = anonUser;
      this.saveUser();
    }
  }, {
    key: 'clearSession',
    value: function clearSession() {
      this.clearUser();
    }
  }]);
  return hasura;
}();

var main = new hasura();

return main;

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy93aGF0d2ctZmV0Y2gvZmV0Y2guanMiLCIuLi8uLi9zcmMvbG9nRXJyb3IuanMiLCIuLi8uLi9zcmMvaGFzdXJhRmV0Y2guanMiLCIuLi8uLi9zcmMvQXV0aC5qcyIsIi4uLy4uL3NyYy9EYXRhLmpzIiwiLi4vLi4vc3JjL0ZpbGUuanMiLCIuLi8uLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oc2VsZikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKHNlbGYuZmV0Y2gpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBzdXBwb3J0ID0ge1xuICAgIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgICBibG9iOiAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJiAnQmxvYicgaW4gc2VsZiAmJiAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgQmxvYigpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgICBmb3JtRGF0YTogJ0Zvcm1EYXRhJyBpbiBzZWxmLFxuICAgIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcbiAgfVxuXG4gIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gICAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gICAgXVxuXG4gICAgdmFyIGlzRGF0YVZpZXcgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob2JqKVxuICAgIH1cblxuICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9IEFycmF5QnVmZmVyLmlzVmlldyB8fCBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZSkge1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcbiAgICB9XG4gICAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIC8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG4gIGZ1bmN0aW9uIGl0ZXJhdG9yRm9yKGl0ZW1zKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0ge1xuICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1zLnNoaWZ0KClcbiAgICAgICAgcmV0dXJuIHtkb25lOiB2YWx1ZSA9PT0gdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZXJhdG9yXG4gIH1cblxuICBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICB0aGlzLm1hcCA9IHt9XG5cbiAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgICAgfSwgdGhpcylcbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuICAgICAgfSwgdGhpcylcbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLm1hcFtuYW1lXVxuICAgIHRoaXMubWFwW25hbWVdID0gb2xkVmFsdWUgPyBvbGRWYWx1ZSsnLCcrdmFsdWUgOiB2YWx1ZVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMubWFwKSB7XG4gICAgICBpZiAodGhpcy5tYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLm1hcFtuYW1lXSwgbmFtZSwgdGhpcylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChuYW1lKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW1zLnB1c2godmFsdWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG4gIH1cblxuICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICAgIH1cbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgICByZWFkZXIucmVhZEFzVGV4dChibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpXG4gICAgdmFyIGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGFyc1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUodmlld1tpXSlcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG4gIH1cblxuICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpXG4gICAgICB2aWV3LnNldChuZXcgVWludDhBcnJheShidWYpKVxuICAgICAgcmV0dXJuIHZpZXcuYnVmZmVyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gQm9keSgpIHtcbiAgICB0aGlzLmJvZHlVc2VkID0gZmFsc2VcblxuICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAgIC8vIElFIDEwLTExIGNhbid0IGhhbmRsZSBhIERhdGFWaWV3IGJvZHkuXG4gICAgICAgIHRoaXMuX2JvZHlJbml0ID0gbmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCBCb2R5SW5pdCB0eXBlJylcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpXG4gICAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnN1bWVkKHRoaXMpIHx8IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcbiAgICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG4gIHZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICAgIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgICByZXR1cm4gKG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xKSA/IHVwY2FzZWQgOiBtZXRob2RcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICAgIH1cbiAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG4gICAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG4gICAgICB9XG4gICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuICAgICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuICAgICAgaWYgKCFib2R5ICYmIGlucHV0Ll9ib2R5SW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KVxuICAgIH1cblxuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ29taXQnXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgfVxuICAgIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gICAgfVxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpXG4gIH1cblxuICBSZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7IGJvZHk6IHRoaXMuX2JvZHlJbml0IH0pXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgICBib2R5LnRyaW0oKS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGZvcm1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpXG4gICAgcmF3SGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpXG4gICAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcGFydHMuam9pbignOicpLnRyaW0oKVxuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGhlYWRlcnNcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuXG4gICAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gICAgdGhpcy5zdGF0dXMgPSAnc3RhdHVzJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXMgOiAyMDBcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gJ3N0YXR1c1RleHQnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1c1RleHQgOiAnT0snXG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcbiAgICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfVxuXG4gIFJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcbiAgICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICAgIHJldHVybiByZXNwb25zZVxuICB9XG5cbiAgdmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cbiAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuICAgIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbiAgfVxuXG4gIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcbiAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2VcblxuICBzZWxmLmZldGNoID0gZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy51cmwgPSAncmVzcG9uc2VVUkwnIGluIHhociA/IHhoci5yZXNwb25zZVVSTCA6IG9wdGlvbnMuaGVhZGVycy5nZXQoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cbiAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcbiAgICAgIH0pXG5cbiAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG4gICAgfSlcbiAgfVxuICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuIiwiY29uc3QgbG9nRXJyb3IgPSAoaSkgPT4ge1xuICBjb25zb2xlLmVycm9yKGkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbG9nRXJyb3I7XG4iLCJpbXBvcnQgJ3doYXR3Zy1mZXRjaCc7XG5pbXBvcnQgbG9nRXJyb3IgZnJvbSAnLi9sb2dFcnJvcic7XG5cbmNvbnN0IGRlZmF1bHRIZWFkZXJzID0ge1xuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbn07XG5cbmNvbnN0IGVtaXRFcnJvciA9IChvcHRpb25zLCByZXNwb25zZSkgPT4ge1xuICAgIGxvZ0Vycm9yKCc+Pj4nKTtcbiAgICBsb2dFcnJvcihvcHRpb25zKTtcbiAgICBsb2dFcnJvcignPDw8Jyk7XG4gICAgbG9nRXJyb3IocmVzcG9uc2UpO1xufTtcblxuY29uc3QgZGVmYXVsdEV4Y2VwdGlvbkhhbmRsZXIgPSAoKSA9PiAoMCk7XG5cbmNvbnN0IG1heWJlUmVzcG9uc2VKU09OID0gKG9wdGlvbnMsIHJlc3BvbnNlLCBvblN1Y2Nlc3MsIG9uRXhjZXB0aW9uID0gZGVmYXVsdEV4Y2VwdGlvbkhhbmRsZXIpID0+IHtcbiAgICByZXNwb25zZS50ZXh0KCkudGhlbihcbiAgICAgICAgKHQpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykuaW5kZXhPZignYXBwbGljYXRpb24vanNvbicpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoSlNPTi5wYXJzZSh0KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uU3VjY2Vzcyh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICAgIGxvZ0Vycm9yKCdTdWNjZXNzZnVsIHJlc3BvbnNlLCBidXQgZmFpbGVkIHRvIHJlYWQgcmVzcG9uc2U6ICcpO1xuICAgICAgICAgICAgZW1pdEVycm9yKG9wdGlvbnMsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIGxvZ0Vycm9yKGUpO1xuICAgICAgICAgICAgb25FeGNlcHRpb24oKTtcbiAgICAgICAgfSk7XG59O1xuXG5jb25zdCBoYXN1cmFHZW5VcmwgPSAocHJvamVjdENvbmZpZykgPT4ge1xuICAgIHJldHVybiAoc2VydmljZSwgcGF0aCkgPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBwcm9qZWN0Q29uZmlnLnNjaGVtZSArICc6Ly8nICsgc2VydmljZSArICcuJyArIHByb2plY3RDb25maWcuYmFzZURvbWFpbiArIHBhdGg7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfTtcbn07XG5cbmNvbnN0IGhhc3VyYUZldGNoID0gKHVzZXIsIHByb2plY3RDb25maWcpID0+IHtcblxuICAgIHJldHVybiAob3B0aW9ucywgb25TdWNjZXNzLCBvbkVycm9yLCBvbkV4Y2VwdGlvbiA9IGRlZmF1bHRFeGNlcHRpb25IYW5kbGVyKSA9PiB7XG4gICAgICAgIGlmICghcHJvamVjdENvbmZpZy5iYXNlRG9tYWluKSB7XG4gICAgICAgICAgICBsb2dFcnJvcignUGxlYXNlIHVzZSBoYXN1cmEuc2V0UHJvamVjdCBvciBoYXN1cmEuc2V0QmFzZURvbWFpbiBiZWZvcmUgbWFraW5nIGFueSBBUEkgY2FsbHMuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoZWFkZXJzID0gey4uLmRlZmF1bHRIZWFkZXJzLCAuLi5vcHRpb25zLmhlYWRlcnN9O1xuXG4gICAgICAgIC8vIEFkZCB0aGUgYXV0aG9yaXphdGlvbiBoZWFkZXJcbiAgICAgICAgaWYgKHVzZXIudG9rZW4gJiYgKG9wdGlvbnMucm9sZSAhPT0gJ2Fub255bW91cycpKSB7XG4gICAgICAgICAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmVhcmVyICcgKyB1c2VyLnRva2VuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucm9sZSAmJiAob3B0aW9ucy5yb2xlICE9PSAnYW5vbnltb3VzJykpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ1gtSGFzdXJhLVJvbGUnXSA9IG9wdGlvbnMucm9sZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVybCA9IGhhc3VyYUdlblVybChwcm9qZWN0Q29uZmlnKShvcHRpb25zLnNlcnZpY2UsIG9wdGlvbnMucGF0aCk7XG5cbiAgICAgICAgZmV0Y2godXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6IG9wdGlvbnMubWV0aG9kID8gb3B0aW9ucy5tZXRob2QgOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogb3B0aW9ucy5qc29uID8gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5qc29uKSA6IChvcHRpb25zLmJvZHkgPyBvcHRpb25zLmJvZHkgOiBudWxsKVxuICAgICAgICB9KS50aGVuKFxuICAgICAgICAgICAgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heWJlUmVzcG9uc2VKU09OKG9wdGlvbnMsIHJlc3BvbnNlLCBvblN1Y2Nlc3MsIG9uRXhjZXB0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAzMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgNDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ0Vycm9yKCdSZWRpcmVjdCByZXNwb25zZSByZWNlaXZlZC4gQXJlIHlvdSBzdXJlIHlvdVxcJ3JlIHF1ZXJ5aW5nIHRoZSByaWdodCBlbmRwb2ludD8nKTtcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKG9wdGlvbnMsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgbWF5YmVSZXNwb25zZUpTT04ob3B0aW9ucywgcmVzcG9uc2UsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDQwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA1MDApIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nRXJyb3IoJ0ludmFsaWQgcmVxdWVzdCBtYWRlIChiYWQgcmVxdWVzdCk6Jyk7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcihvcHRpb25zLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIG1heWJlUmVzcG9uc2VKU09OKG9wdGlvbnMsIHJlc3BvbnNlLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA+IDUwMCkge1xuICAgICAgICAgICAgICAgICAgICBsb2dFcnJvcignU2VydmVyIGVycm9yOicpO1xuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3Iob3B0aW9ucywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBtYXliZVJlc3BvbnNlSlNPTihvcHRpb25zLCByZXNwb25zZSwgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nRXJyb3IoJ1VuaGFuZGxlZCBlcnJvciBpbiBIYXN1cmEgU0RLLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZSBhdCBnaXRodWIuY29tL2hhc3VyYS9zdXBwb3J0IHdpdGggdGhlIGluZm9ybWF0aW9uIGJlbG93OicpO1xuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3Iob3B0aW9ucywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBvbkV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBsb2dFcnJvcignRmFpbGVkIHRvIG1ha2UgcmVxdWVzdC4gQ2hlY2sgaHR0cC9odHRwcywgc2VydmljZSBuYW1lLCBiYXNlIGRvbWFpbiBvciBwYXRoIHZhbHVlcyB1c2VkP1xcbj4+PicpXG4gICAgICAgICAgICAgICAgbG9nRXJyb3Iob3B0aW9ucylcbiAgICAgICAgICAgICAgICBsb2dFcnJvcignPDw8JylcbiAgICAgICAgICAgICAgICBsb2dFcnJvcihlcnJvcilcbiAgICAgICAgICAgICAgICBvbkV4Y2VwdGlvbihlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG59O1xuXG5leHBvcnQge2hhc3VyYUZldGNoLCBoYXN1cmFHZW5Vcmx9O1xuIiwiaW1wb3J0IGxvZ0Vycm9yIGZyb20gJy4vbG9nRXJyb3InO1xuXG5jb25zdCBkZWZhdWx0RXhjZXB0aW9uSGFuZGxlciA9ICgpID0+ICgwKTtcblxuY2xhc3MgQXV0aCB7XG5cbiAgY29uc3RydWN0b3IgKGhhc3VyYSkge1xuICAgIHRoaXMuaGFzdXJhID0gaGFzdXJhO1xuICB9XG5cbiAgLyogb3B0aW9uczoge1xuICAgKiAgIHJlY2FwdGNoYTogJydcbiAgICogfVxuICAgKlxuICAgKi9cbiAgc2lnbnVwIChwYXNzd29yZCwgb25TdWNjZXNzLCBvbkVycm9yID0gZGVmYXVsdEV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICBpZiAodGhpcy5oYXN1cmEudXNlci50b2tlbikge1xuICAgICAgbG9nRXJyb3IoJ0EgdXNlciBzZXNzaW9uIGFscmVhZHkgZXhpc3RzLiBVc2UgdGhpcy5oYXN1cmEubG9nb3V0KCkgZmlyc3Q/Jyk7XG4gICAgICBvbkVycm9yKHsnY29kZSc6ICdhbHJlYWR5LWxvZ2dlZC1pbid9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0geyB1c2VybmFtZTogdGhpcy5oYXN1cmEudXNlci51c2VybmFtZSwgcGFzc3dvcmQgfTtcbiAgICBpZiAodGhpcy5oYXN1cmEudXNlci5lbWFpbCkge1xuICAgICAgYm9keS5lbWFpbCA9IHRoaXMuaGFzdXJhLnVzZXIuZW1haWw7XG4gICAgfVxuICAgIGlmICh0aGlzLmhhc3VyYS51c2VyLm1vYmlsZSkge1xuICAgICAgYm9keS5tb2JpbGUgPSB0aGlzLmhhc3VyYS51c2VyLm1vYmlsZTtcbiAgICB9XG5cbiAgICB0aGlzLmhhc3VyYS5mZXRjaChcbiAgICAgIHtzZXJ2aWNlOiAnYXV0aCcsIHBhdGg6ICcvc2lnbnVwJywganNvbjogYm9keX0sXG4gICAgICAodXNlcikgPT4ge1xuICAgICAgICB0aGlzLmhhc3VyYS51c2VyID0ge1xuICAgICAgICAgIC4uLnRoaXMuaGFzdXJhLnVzZXIsXG4gICAgICAgICAgaWQ6IHVzZXIuaGFzdXJhX2lkLFxuICAgICAgICAgIHJvbGVzOiB1c2VyLmhhc3VyYV9yb2xlc1xuICAgICAgICB9O1xuICAgICAgICBpZiAodXNlci5hdXRoX3Rva2VuKSB7XG4gICAgICAgICAgdGhpcy5oYXN1cmEudXNlci50b2tlbiA9IHVzZXIuYXV0aF90b2tlbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhc3VyYS5zYXZlVXNlcigpO1xuICAgICAgICBvblN1Y2Nlc3ModXNlcik7XG4gICAgICB9LFxuICAgICAgKHIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocik7XG4gICAgICAgIG9uRXJyb3Iocik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGxvZ2luIChwYXNzd29yZCwgb25TdWNjZXNzLCBvbkVycm9yID0gZGVmYXVsdEV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICBpZiAodGhpcy5oYXN1cmEudXNlci50b2tlbikge1xuICAgICAgbG9nRXJyb3IoJ0EgdXNlciBzZXNzaW9uIGFscmVhZHkgZXhpc3RzLiBVc2UgdGhpcy5oYXN1cmEubG9nb3V0KCkgZmlyc3Q/Jyk7XG4gICAgICBvbkVycm9yKHsnY29kZSc6ICdhbHJlYWR5LWxvZ2dlZC1pbid9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmhhc3VyYS5mZXRjaChcbiAgICAgIHtzZXJ2aWNlOiAnYXV0aCcsIHBhdGg6ICcvbG9naW4nLCBqc29uOiB7dXNlcm5hbWU6IHRoaXMuaGFzdXJhLnVzZXIudXNlcm5hbWUsIHBhc3N3b3JkfX0sXG4gICAgICAodXNlcikgPT4ge1xuICAgICAgICB0aGlzLmhhc3VyYS51c2VyID0ge1xuICAgICAgICAgIC4uLnRoaXMuaGFzdXJhLnVzZXIsXG4gICAgICAgICAgaWQ6IHVzZXIuaGFzdXJhX2lkLFxuICAgICAgICAgIHJvbGVzOiB1c2VyLmhhc3VyYV9yb2xlcyxcbiAgICAgICAgICB0b2tlbjogdXNlci5hdXRoX3Rva2VuXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFzdXJhLnNhdmVVc2VyKCk7XG4gICAgICAgIG9uU3VjY2Vzcyh1c2VyKTtcbiAgICAgIH0sXG4gICAgICAocikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyKTtcbiAgICAgICAgb25FcnJvcihyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgbG9nb3V0IChvblN1Y2Nlc3MsIG9uRXJyb3IgPSBkZWZhdWx0RXhjZXB0aW9uSGFuZGxlcikge1xuICAgIHRoaXMuaGFzdXJhLmZldGNoKFxuICAgICAge3NlcnZpY2U6ICdhdXRoJywgcGF0aDogJy91c2VyL2xvZ291dCd9LFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLmhhc3VyYS5jbGVhclVzZXIoKTtcbiAgICAgICAgb25TdWNjZXNzKCk7XG4gICAgICB9LFxuICAgICAgKHIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocik7XG4gICAgICAgIG9uRXJyb3Iocik7XG4gICAgICB9KTtcbiAgfVxuXG4gIHNpZ25VcFByb21pc2UocGFzc3dvcmQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgc2VsZi5zaWdudXAocGFzc3dvcmQsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgIHJlamVjdChleGNlcHRpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBsb2dpblByb21pc2UocGFzc3dvcmQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgc2VsZi5sb2dpbihwYXNzd29yZCwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgICAgfSlcbiAgICAgIH0pXG4gIH1cblxuICBsb2dvdXRQcm9taXNlKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBzZWxmLmxvZ291dChmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEF1dGg7XG4iLCJpbXBvcnQgbG9nRXJyb3IgZnJvbSAnLi9sb2dFcnJvcic7XG5cbmNvbnN0IGRlZmF1bHRFeGNlcHRpb25IYW5kbGVyID0gKCkgPT4gKDApO1xuXG5jbGFzcyBEYXRhIHtcbiAgY29uc3RydWN0b3IoaGFzdXJhKSB7XG4gICAgdGhpcy5oYXN1cmEgPSBoYXN1cmE7XG4gIH1cblxuICBxdWVyeUFzUm9sZShyb2xlLCBxdWVyeSwgb25TdWNjZXNzLCBvbkVycm9yID0gZGVmYXVsdEV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICB0aGlzLnF1ZXJ5KHF1ZXJ5LCBvblN1Y2Nlc3MsIG9uRXJyb3IsIHJvbGUpO1xuICB9XG5cbiAgcXVlcnlBc1JvbGVQcm9taXNlKHJvbGUsIHF1ZXJ5KSB7XG4gICAgdGhpcy5xdWVyeVByb21pc2UocXVlcnksIHJvbGUpO1xuICB9XG5cbiAgcXVlcnkocXVlcnksIG9uU3VjY2Vzcywgb25FcnJvciA9IGRlZmF1bHRFeGNlcHRpb25IYW5kbGVyLCByb2xlID0gbnVsbCkge1xuICAgIGNvbnN0IG9wdHMgPSB7c2VydmljZTogJ2RhdGEnLCBwYXRoOiAnL3YxL3F1ZXJ5JywganNvbjogcXVlcnl9O1xuICAgIGlmIChyb2xlKSB7XG4gICAgICBvcHRzLnJvbGUgPSByb2xlO1xuICAgIH1cbiAgICB0aGlzLmhhc3VyYS5mZXRjaChcbiAgICAgIG9wdHMsXG4gICAgICAocmVzdWx0KSA9PiB7XG4gICAgICAgIG9uU3VjY2VzcyhyZXN1bHQpO1xuICAgICAgfSxcbiAgICAgIChlKSA9PiB7XG4gICAgICAgIGxvZ0Vycm9yKGUpO1xuICAgICAgICBvbkVycm9yKGUpO1xuICAgICAgfSk7XG4gIH1cblxuICBxdWVyeVByb21pc2UocXVlcnksIHJvbGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHNlbGYucXVlcnkocXVlcnksIGZ1bmN0aW9uIChzdWNjZXNzKSB7XG4gICAgICAgIHJlc29sdmUoc3VjY2Vzcyk7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH0sIHJvbGUpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGE7XG4iLCJpbXBvcnQgbG9nRXJyb3IgZnJvbSAnLi9sb2dFcnJvcic7XG5cbmNvbnN0IGRlZmF1bHRFeGNlcHRpb25IYW5kbGVyID0gKCkgPT4gKDApO1xuXG5jb25zdCBndWlkID0gKCkgPT4gKCd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xuICB2YXIgciA9IE1hdGgucmFuZG9tKCkqMTZ8MCwgdiA9IGMgPT0gJ3gnID8gciA6IChyJjB4M3wweDgpO1xuICByZXR1cm4gdi50b1N0cmluZygxNik7XG59KSk7XG5cbmNsYXNzIEZpbGUge1xuICBjb25zdHJ1Y3RvciAoaGFzdXJhKSB7XG4gICAgdGhpcy5oYXN1cmEgPSBoYXN1cmE7XG4gIH1cblxuICBxdWVyeVByb21pc2UoaGFzdXJhRmV0Y2hPcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdGhpcy5xdWVyeShoYXN1cmFGZXRjaE9wdGlvbnMsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcXVlcnkoaGFzdXJhRmV0Y2hPcHRpb25zLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBjb25zdCBvcHRzID0gaGFzdXJhRmV0Y2hPcHRpb25zO1xuICAgIHRoaXMuaGFzdXJhLmZldGNoKFxuICAgICAgb3B0cyxcbiAgICAgIChyZXN1bHQpID0+IHtcbiAgICAgICAgb25TdWNjZXNzKHJlc3VsdCk7XG4gICAgICB9LFxuICAgICAgKGUpID0+IHtcbiAgICAgICAgbG9nRXJyb3IoZSk7XG4gICAgICAgIG9uRXJyb3IoZSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHVwbG9hZFByb21pc2UoZmlsZUlucHV0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdGhpcy51cGxvYWQoZmlsZUlucHV0LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwbG9hZChmaWxlSW5wdXQsIG9uU3VjY2Vzcywgb25FcnJvciA9IGRlZmF1bHRFeGNlcHRpb25IYW5kbGVyKSB7XG4gICAgY29uc3QgZmlsZSA9IGZpbGVJbnB1dC5maWxlc1swXTtcbiAgICBpZiAoIWZpbGUpIHtcbiAgICAgIGxvZ0Vycm9yKCdObyBmaWxlIHJlY2VpdmVkIGZyb20gZXhwZWN0ZWQgaW5wdXRbdHlwZT1maWxlXSBET00gZWxlbWVudC4nKTtcbiAgICAgIGxvZ0Vycm9yKGZpbGVJbnB1dCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaGFzdXJhRmV0Y2hPcHRpb25zID0ge1xuICAgICAgc2VydmljZTogJ2ZpbGVzdG9yZScsXG4gICAgICBwYXRoOiBgL3YxL2ZpbGUvJHtndWlkKCl9YCxcbiAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogZmlsZS50eXBlfSxcbiAgICAgIGJvZHk6IGZpbGVcbiAgICB9O1xuXG4gICAgdGhpcy5xdWVyeShoYXN1cmFGZXRjaE9wdGlvbnMsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gIH1cblxuICBkZWxldGUoZmlsZUlkLCBvblN1Y2Nlc3MsIG9uRXJyb3IgPSBkZWZhdWx0RXhjZXB0aW9uSGFuZGxlcikge1xuICAgIGNvbnN0IGhhc3VyYUZldGNoT3B0aW9ucyA9IHtcbiAgICAgIHNlcnZpY2U6ICdmaWxlc3RvcmUnLFxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIHBhdGg6IGAvdjEvZmlsZS8ke2ZpbGVJZH1gXG4gICAgfTtcblxuICAgIHRoaXMucXVlcnkoaGFzdXJhRmV0Y2hPcHRpb25zLCBvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICB9XG5cbiAgZGVsZXRlUHJvbWlzZShmaWxlSWQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB0aGlzLmRlbGV0ZShmaWxlSWQsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZG93bmxvYWQoZmlsZUlkKSB7XG4gICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgbGluay5kb3dubG9hZCA9IGZpbGVJZDtcbiAgICBsaW5rLmhyZWYgPSB0aGlzLmhhc3VyYS5nZW5VcmwoJ2ZpbGVzdG9yZScsIGAvdjEvZmlsZS8ke2ZpbGVJZH1gKTtcbiAgICBsaW5rLmNsaWNrKCk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBGaWxlO1xuIiwiaW1wb3J0IHtoYXN1cmFGZXRjaCwgaGFzdXJhR2VuVXJsfSBmcm9tICcuL2hhc3VyYUZldGNoJztcbmltcG9ydCBBdXRoIGZyb20gJy4vQXV0aCc7XG5pbXBvcnQgRGF0YSBmcm9tICcuL0RhdGEnO1xuaW1wb3J0IEZpbGUgZnJvbSAnLi9GaWxlJztcblxuY29uc3QgYW5vblVzZXIgPSB7XG4gIHVzZXJuYW1lOiAnYW5vbnltb3VzJyxcbiAgaWQ6IDAsXG4gIHJvbGVzOiBbJ2Fub255bW91cyddLFxuICB0b2tlbjogbnVsbFxufTtcblxuY29uc3QgbG9jYWxTdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcblxuY2xhc3MgaGFzdXJhIHtcbiAgLypcbiAgICogaGFzdXJhLnVzZXJcbiAgICogaGFzdXJhLmF1dGggKHNpZ251cC9sb2dpbi9sb2dvdXQpXG4gICAqIGhhc3VyYS5kYXRhLnF1ZXJ5KHt9LCBvblN1Y2Nlc3MsIG9uRXJyb3IpXG4gICAqIGhhc3VyYS5mZXRjaChvcHRpb25zLCBvblN1Y2Nlc3MsIG9uRXJyb3IpXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgLy8gTG9hZCB1c2VyLWRhdGEgZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICBjb25zdCB1ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hhc3VyYS51c2VyJyk7XG4gICAgaWYgKHUpIHtcbiAgICAgIHRoaXMudXNlciA9IEpTT04ucGFyc2UodSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXNlciA9IGFub25Vc2VyO1xuICAgIH1cblxuICAgIHRoaXMucHJvamVjdENvbmZpZyA9IHtcbiAgICAgIHNjaGVtZTogJ2h0dHBzJyxcbiAgICAgIGJhc2VEb21haW46IG51bGxcbiAgICB9O1xuICAgIHRoaXMucmVzZXRGZXRjaCgpO1xuICAgIHRoaXMuYXV0aCA9IG5ldyBBdXRoKHRoaXMpO1xuICAgIHRoaXMuZGF0YSA9IG5ldyBEYXRhKHRoaXMpO1xuICAgIHRoaXMuZmlsZSA9IG5ldyBGaWxlKHRoaXMpO1xuICB9XG5cbiAgcmVzZXRGZXRjaCgpIHtcbiAgICB0aGlzLmZldGNoID0gaGFzdXJhRmV0Y2godGhpcy51c2VyLCB0aGlzLnByb2plY3RDb25maWcpO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLmZldGNoUHJvbWlzZSA9IChxdWVyeSkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLmZldGNoKHF1ZXJ5LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuZ2VuVXJsID0gaGFzdXJhR2VuVXJsKHRoaXMucHJvamVjdENvbmZpZyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRQcm9qZWN0IChuYW1lKSB7XG4gICAgdGhpcy5wcm9qZWN0Q29uZmlnLmJhc2VEb21haW4gPSBuYW1lICsgJy5oYXN1cmEtYXBwLmlvJztcbiAgICB0aGlzLnJlc2V0RmV0Y2goKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldEJhc2VEb21haW4oYmFzZURvbWFpbikge1xuICAgIHRoaXMucHJvamVjdENvbmZpZy5iYXNlRG9tYWluID0gYmFzZURvbWFpbjtcbiAgICB0aGlzLnJlc2V0RmV0Y2goKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGRpc2FibGVIdHRwcygpIHtcbiAgICB0aGlzLnByb2plY3RDb25maWcuc2NoZW1lID0gJ2h0dHAnO1xuICAgIHRoaXMucmVzZXRGZXRjaCgpO1xuICB9XG5cbiAgc2V0VXNlcm5hbWUodXNlcm5hbWUpIHtcbiAgICB0aGlzLnVzZXIudXNlcm5hbWUgPSB1c2VybmFtZTtcbiAgICB0aGlzLnNhdmVVc2VyKCk7XG4gIH1cblxuICBzZXRVc2VySW5mbyh1c2VySW5mbykge1xuICAgIHRoaXMudXNlciA9IHtcbiAgICAgIC4uLnRoaXMudXNlcixcbiAgICAgIGlkOiB1c2VySW5mby5oYXN1cmFfaWQsXG4gICAgICByb2xlczogdXNlckluZm8uaGFzdXJhX3JvbGVzLFxuICAgICAgdG9rZW46IHVzZXJJbmZvLmF1dGhfdG9rZW4sXG4gICAgfTtcblxuICAgIFsndXNlcm5hbWUnLCAnZW1haWwnLCAnbW9iaWxlJ10ubWFwKHggPT4ge1xuICAgICAgdGhpcy51c2VyW3hdID0gdXNlckluZm9beF0gPyB1c2VySW5mb1t4XSA6IHRoaXMudXNlclt4XTtcbiAgICB9KTtcblxuICAgIHRoaXMuc2F2ZVVzZXIoKTtcbiAgfVxuXG4gIHNhdmVVc2VyKCkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdoYXN1cmEudXNlcicsIEpTT04uc3RyaW5naWZ5KHRoaXMudXNlcikpO1xuICAgIHRoaXMucmVzZXRGZXRjaCgpO1xuICB9XG5cbiAgY2xlYXJVc2VyKCkge1xuICAgIHRoaXMudXNlciA9IGFub25Vc2VyO1xuICAgIHRoaXMuc2F2ZVVzZXIoKTtcbiAgfVxuXG4gIGNsZWFyU2Vzc2lvbigpIHsgdGhpcy5jbGVhclVzZXIoKTsgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IChuZXcgaGFzdXJhKCkpO1xuIl0sIm5hbWVzIjpbInRoaXMiLCJsb2dFcnJvciIsImkiLCJlcnJvciIsImRlZmF1bHRIZWFkZXJzIiwiZW1pdEVycm9yIiwib3B0aW9ucyIsInJlc3BvbnNlIiwiZGVmYXVsdEV4Y2VwdGlvbkhhbmRsZXIiLCJtYXliZVJlc3BvbnNlSlNPTiIsIm9uU3VjY2VzcyIsIm9uRXhjZXB0aW9uIiwidGV4dCIsInRoZW4iLCJ0IiwiaGVhZGVycyIsImdldCIsImluZGV4T2YiLCJKU09OIiwicGFyc2UiLCJlIiwiaGFzdXJhR2VuVXJsIiwicHJvamVjdENvbmZpZyIsInNlcnZpY2UiLCJwYXRoIiwidXJsIiwic2NoZW1lIiwiYmFzZURvbWFpbiIsImhhc3VyYUZldGNoIiwidXNlciIsIm9uRXJyb3IiLCJ0b2tlbiIsInJvbGUiLCJBdXRob3JpemF0aW9uIiwibWV0aG9kIiwianNvbiIsInN0cmluZ2lmeSIsImJvZHkiLCJzdGF0dXMiLCJBdXRoIiwiaGFzdXJhIiwicGFzc3dvcmQiLCJ1c2VybmFtZSIsImVtYWlsIiwibW9iaWxlIiwiZmV0Y2giLCJoYXN1cmFfaWQiLCJoYXN1cmFfcm9sZXMiLCJhdXRoX3Rva2VuIiwic2F2ZVVzZXIiLCJyIiwibG9nIiwiY2xlYXJVc2VyIiwic2VsZiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2lnbnVwIiwiZXhjZXB0aW9uIiwibG9naW4iLCJsb2dvdXQiLCJEYXRhIiwicXVlcnkiLCJxdWVyeVByb21pc2UiLCJvcHRzIiwicmVzdWx0Iiwic3VjY2VzcyIsImd1aWQiLCJyZXBsYWNlIiwiYyIsIk1hdGgiLCJyYW5kb20iLCJ2IiwidG9TdHJpbmciLCJGaWxlIiwiaGFzdXJhRmV0Y2hPcHRpb25zIiwiZmlsZUlucHV0IiwidXBsb2FkIiwiZmlsZSIsImZpbGVzIiwidHlwZSIsImZpbGVJZCIsImRlbGV0ZSIsImxpbmsiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJkb3dubG9hZCIsImhyZWYiLCJnZW5VcmwiLCJjbGljayIsImFub25Vc2VyIiwibG9jYWxTdG9yYWdlIiwid2luZG93IiwidSIsImdldEl0ZW0iLCJyZXNldEZldGNoIiwiYXV0aCIsImRhdGEiLCJmZXRjaFByb21pc2UiLCJuYW1lIiwidXNlckluZm8iLCJtYXAiLCJ4Iiwic2V0SXRlbSJdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsQ0FBQyxTQUFTLElBQUksRUFBRTtFQUNkLFlBQVksQ0FBQzs7RUFFYixJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7SUFDZCxNQUFNO0dBQ1A7O0VBRUQsSUFBSSxPQUFPLEdBQUc7SUFDWixZQUFZLEVBQUUsaUJBQWlCLElBQUksSUFBSTtJQUN2QyxRQUFRLEVBQUUsUUFBUSxJQUFJLElBQUksSUFBSSxVQUFVLElBQUksTUFBTTtJQUNsRCxJQUFJLEVBQUUsWUFBWSxJQUFJLElBQUksSUFBSSxNQUFNLElBQUksSUFBSSxJQUFJLENBQUMsV0FBVztNQUMxRCxJQUFJO1FBQ0YsSUFBSSxJQUFJLEdBQUU7UUFDVixPQUFPLElBQUk7T0FDWixDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQ1QsT0FBTyxLQUFLO09BQ2I7S0FDRixHQUFHO0lBQ0osUUFBUSxFQUFFLFVBQVUsSUFBSSxJQUFJO0lBQzVCLFdBQVcsRUFBRSxhQUFhLElBQUksSUFBSTtJQUNuQzs7RUFFRCxJQUFJLE9BQU8sQ0FBQyxXQUFXLEVBQUU7SUFDdkIsSUFBSSxXQUFXLEdBQUc7TUFDaEIsb0JBQW9CO01BQ3BCLHFCQUFxQjtNQUNyQiw0QkFBNEI7TUFDNUIscUJBQXFCO01BQ3JCLHNCQUFzQjtNQUN0QixxQkFBcUI7TUFDckIsc0JBQXNCO01BQ3RCLHVCQUF1QjtNQUN2Qix1QkFBdUI7TUFDeEI7O0lBRUQsSUFBSSxVQUFVLEdBQUcsU0FBUyxHQUFHLEVBQUU7TUFDN0IsT0FBTyxHQUFHLElBQUksUUFBUSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDO01BQ3BEOztJQUVELElBQUksaUJBQWlCLEdBQUcsV0FBVyxDQUFDLE1BQU0sSUFBSSxTQUFTLEdBQUcsRUFBRTtNQUMxRCxPQUFPLEdBQUcsSUFBSSxXQUFXLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztNQUM1RTtHQUNGOztFQUVELFNBQVMsYUFBYSxDQUFDLElBQUksRUFBRTtJQUMzQixJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtNQUM1QixJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBQztLQUNwQjtJQUNELElBQUksNEJBQTRCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO01BQzNDLE1BQU0sSUFBSSxTQUFTLENBQUMsd0NBQXdDLENBQUM7S0FDOUQ7SUFDRCxPQUFPLElBQUksQ0FBQyxXQUFXLEVBQUU7R0FDMUI7O0VBRUQsU0FBUyxjQUFjLENBQUMsS0FBSyxFQUFFO0lBQzdCLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO01BQzdCLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxFQUFDO0tBQ3RCO0lBQ0QsT0FBTyxLQUFLO0dBQ2I7OztFQUdELFNBQVMsV0FBVyxDQUFDLEtBQUssRUFBRTtJQUMxQixJQUFJLFFBQVEsR0FBRztNQUNiLElBQUksRUFBRSxXQUFXO1FBQ2YsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssR0FBRTtRQUN6QixPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssS0FBSyxTQUFTLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQztPQUNqRDtNQUNGOztJQUVELElBQUksT0FBTyxDQUFDLFFBQVEsRUFBRTtNQUNwQixRQUFRLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFdBQVc7UUFDckMsT0FBTyxRQUFRO1FBQ2hCO0tBQ0Y7O0lBRUQsT0FBTyxRQUFRO0dBQ2hCOztFQUVELFNBQVMsT0FBTyxDQUFDLE9BQU8sRUFBRTtJQUN4QixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUU7O0lBRWIsSUFBSSxPQUFPLFlBQVksT0FBTyxFQUFFO01BQzlCLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxLQUFLLEVBQUUsSUFBSSxFQUFFO1FBQ3BDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBQztPQUN6QixFQUFFLElBQUksRUFBQztLQUNULE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFO01BQ2pDLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxNQUFNLEVBQUU7UUFDL0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFDO09BQ2xDLEVBQUUsSUFBSSxFQUFDO0tBQ1QsTUFBTSxJQUFJLE9BQU8sRUFBRTtNQUNsQixNQUFNLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsSUFBSSxFQUFFO1FBQ3pELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBQztPQUNqQyxFQUFFLElBQUksRUFBQztLQUNUO0dBQ0Y7O0VBRUQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsU0FBUyxJQUFJLEVBQUUsS0FBSyxFQUFFO0lBQy9DLElBQUksR0FBRyxhQUFhLENBQUMsSUFBSSxFQUFDO0lBQzFCLEtBQUssR0FBRyxjQUFjLENBQUMsS0FBSyxFQUFDO0lBQzdCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFDO0lBQzdCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsUUFBUSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLE1BQUs7SUFDdkQ7O0VBRUQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRyxTQUFTLElBQUksRUFBRTtJQUMzQyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxFQUFDO0lBQ3JDOztFQUVELE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFNBQVMsSUFBSSxFQUFFO0lBQ3JDLElBQUksR0FBRyxhQUFhLENBQUMsSUFBSSxFQUFDO0lBQzFCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUk7SUFDOUM7O0VBRUQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsU0FBUyxJQUFJLEVBQUU7SUFDckMsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEQ7O0VBRUQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsU0FBUyxJQUFJLEVBQUUsS0FBSyxFQUFFO0lBQzVDLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsY0FBYyxDQUFDLEtBQUssRUFBQztJQUN0RDs7RUFFRCxPQUFPLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxTQUFTLFFBQVEsRUFBRSxPQUFPLEVBQUU7SUFDdEQsS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFO01BQ3pCLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDakMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDO09BQ25EO0tBQ0Y7SUFDRjs7RUFFRCxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxXQUFXO0lBQ2xDLElBQUksS0FBSyxHQUFHLEdBQUU7SUFDZCxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDLEVBQUUsRUFBQztJQUN4RCxPQUFPLFdBQVcsQ0FBQyxLQUFLLENBQUM7SUFDMUI7O0VBRUQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsV0FBVztJQUNwQyxJQUFJLEtBQUssR0FBRyxHQUFFO0lBQ2QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEtBQUssRUFBRSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQztJQUNuRCxPQUFPLFdBQVcsQ0FBQyxLQUFLLENBQUM7SUFDMUI7O0VBRUQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsV0FBVztJQUNyQyxJQUFJLEtBQUssR0FBRyxHQUFFO0lBQ2QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFDLEVBQUUsRUFBQztJQUNqRSxPQUFPLFdBQVcsQ0FBQyxLQUFLLENBQUM7SUFDMUI7O0VBRUQsSUFBSSxPQUFPLENBQUMsUUFBUSxFQUFFO0lBQ3BCLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBTztHQUMvRDs7RUFFRCxTQUFTLFFBQVEsQ0FBQyxJQUFJLEVBQUU7SUFDdEIsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO01BQ2pCLE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQztLQUNyRDtJQUNELElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSTtHQUNyQjs7RUFFRCxTQUFTLGVBQWUsQ0FBQyxNQUFNLEVBQUU7SUFDL0IsT0FBTyxJQUFJLE9BQU8sQ0FBQyxTQUFTLE9BQU8sRUFBRSxNQUFNLEVBQUU7TUFDM0MsTUFBTSxDQUFDLE1BQU0sR0FBRyxXQUFXO1FBQ3pCLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFDO1FBQ3ZCO01BQ0QsTUFBTSxDQUFDLE9BQU8sR0FBRyxXQUFXO1FBQzFCLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFDO1FBQ3JCO0tBQ0YsQ0FBQztHQUNIOztFQUVELFNBQVMscUJBQXFCLENBQUMsSUFBSSxFQUFFO0lBQ25DLElBQUksTUFBTSxHQUFHLElBQUksVUFBVSxHQUFFO0lBQzdCLElBQUksT0FBTyxHQUFHLGVBQWUsQ0FBQyxNQUFNLEVBQUM7SUFDckMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBQztJQUM5QixPQUFPLE9BQU87R0FDZjs7RUFFRCxTQUFTLGNBQWMsQ0FBQyxJQUFJLEVBQUU7SUFDNUIsSUFBSSxNQUFNLEdBQUcsSUFBSSxVQUFVLEdBQUU7SUFDN0IsSUFBSSxPQUFPLEdBQUcsZUFBZSxDQUFDLE1BQU0sRUFBQztJQUNyQyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksRUFBQztJQUN2QixPQUFPLE9BQU87R0FDZjs7RUFFRCxTQUFTLHFCQUFxQixDQUFDLEdBQUcsRUFBRTtJQUNsQyxJQUFJLElBQUksR0FBRyxJQUFJLFVBQVUsQ0FBQyxHQUFHLEVBQUM7SUFDOUIsSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQzs7SUFFbEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7TUFDcEMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFDO0tBQ3hDO0lBQ0QsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztHQUN0Qjs7RUFFRCxTQUFTLFdBQVcsQ0FBQyxHQUFHLEVBQUU7SUFDeEIsSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO01BQ2IsT0FBTyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztLQUNwQixNQUFNO01BQ0wsSUFBSSxJQUFJLEdBQUcsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBQztNQUN6QyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFDO01BQzdCLE9BQU8sSUFBSSxDQUFDLE1BQU07S0FDbkI7R0FDRjs7RUFFRCxTQUFTLElBQUksR0FBRztJQUNkLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBSzs7SUFFckIsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLElBQUksRUFBRTtNQUM5QixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUk7TUFDckIsSUFBSSxDQUFDLElBQUksRUFBRTtRQUNULElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRTtPQUNwQixNQUFNLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQ25DLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSTtPQUN0QixNQUFNLElBQUksT0FBTyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM3RCxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUk7T0FDdEIsTUFBTSxJQUFJLE9BQU8sQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDckUsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFJO09BQzFCLE1BQU0sSUFBSSxPQUFPLENBQUMsWUFBWSxJQUFJLGVBQWUsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ2hGLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRTtPQUNqQyxNQUFNLElBQUksT0FBTyxDQUFDLFdBQVcsSUFBSSxPQUFPLENBQUMsSUFBSSxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUNsRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUM7O1FBRWhELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBQztPQUNuRCxNQUFNLElBQUksT0FBTyxDQUFDLFdBQVcsS0FBSyxXQUFXLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFO1FBQ3hHLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxXQUFXLENBQUMsSUFBSSxFQUFDO09BQzFDLE1BQU07UUFDTCxNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDO09BQzdDOztNQUVELElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsRUFBRTtRQUNyQyxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtVQUM1QixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsMEJBQTBCLEVBQUM7U0FDN0QsTUFBTSxJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUU7VUFDaEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFDO1NBQ3RELE1BQU0sSUFBSSxPQUFPLENBQUMsWUFBWSxJQUFJLGVBQWUsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxFQUFFO1VBQ2hGLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxpREFBaUQsRUFBQztTQUNwRjtPQUNGO01BQ0Y7O0lBRUQsSUFBSSxPQUFPLENBQUMsSUFBSSxFQUFFO01BQ2hCLElBQUksQ0FBQyxJQUFJLEdBQUcsV0FBVztRQUNyQixJQUFJLFFBQVEsR0FBRyxRQUFRLENBQUMsSUFBSSxFQUFDO1FBQzdCLElBQUksUUFBUSxFQUFFO1VBQ1osT0FBTyxRQUFRO1NBQ2hCOztRQUVELElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtVQUNsQixPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztTQUN2QyxNQUFNLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFO1VBQ2hDLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7U0FDMUQsTUFBTSxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7VUFDN0IsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQztTQUN4RCxNQUFNO1VBQ0wsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7U0FDbkQ7UUFDRjs7TUFFRCxJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVc7UUFDNUIsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7VUFDekIsT0FBTyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7U0FDaEUsTUFBTTtVQUNMLE9BQU8sSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztTQUMvQztRQUNGO0tBQ0Y7O0lBRUQsSUFBSSxDQUFDLElBQUksR0FBRyxXQUFXO01BQ3JCLElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUM7TUFDN0IsSUFBSSxRQUFRLEVBQUU7UUFDWixPQUFPLFFBQVE7T0FDaEI7O01BRUQsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1FBQ2xCLE9BQU8sY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7T0FDdEMsTUFBTSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtRQUNoQyxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7T0FDckUsTUFBTSxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7UUFDN0IsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQztPQUN4RCxNQUFNO1FBQ0wsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7T0FDdkM7TUFDRjs7SUFFRCxJQUFJLE9BQU8sQ0FBQyxRQUFRLEVBQUU7TUFDcEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxXQUFXO1FBQ3pCLE9BQU8sSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDaEM7S0FDRjs7SUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLFdBQVc7TUFDckIsT0FBTyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7TUFDcEM7O0lBRUQsT0FBTyxJQUFJO0dBQ1o7OztFQUdELElBQUksT0FBTyxHQUFHLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUM7O0VBRWpFLFNBQVMsZUFBZSxDQUFDLE1BQU0sRUFBRTtJQUMvQixJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMsV0FBVyxHQUFFO0lBQ2xDLE9BQU8sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLE9BQU8sR0FBRyxNQUFNO0dBQzFEOztFQUVELFNBQVMsT0FBTyxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUU7SUFDL0IsT0FBTyxHQUFHLE9BQU8sSUFBSSxHQUFFO0lBQ3ZCLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxLQUFJOztJQUV2QixJQUFJLEtBQUssWUFBWSxPQUFPLEVBQUU7TUFDNUIsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFO1FBQ2xCLE1BQU0sSUFBSSxTQUFTLENBQUMsY0FBYyxDQUFDO09BQ3BDO01BQ0QsSUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsSUFBRztNQUNwQixJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxZQUFXO01BQ3BDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFO1FBQ3BCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBQztPQUMxQztNQUNELElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLE9BQU07TUFDMUIsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsS0FBSTtNQUN0QixJQUFJLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQyxTQUFTLElBQUksSUFBSSxFQUFFO1FBQ3BDLElBQUksR0FBRyxLQUFLLENBQUMsVUFBUztRQUN0QixLQUFLLENBQUMsUUFBUSxHQUFHLEtBQUk7T0FDdEI7S0FDRixNQUFNO01BQ0wsSUFBSSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsS0FBSyxFQUFDO0tBQ3pCOztJQUVELElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLE9BQU07SUFDcEUsSUFBSSxPQUFPLENBQUMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtNQUNwQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUM7S0FDNUM7SUFDRCxJQUFJLENBQUMsTUFBTSxHQUFHLGVBQWUsQ0FBQyxPQUFPLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksS0FBSyxFQUFDO0lBQ3JFLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLEtBQUk7SUFDN0MsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFJOztJQUVwQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLEtBQUssSUFBSSxFQUFFO01BQzdELE1BQU0sSUFBSSxTQUFTLENBQUMsMkNBQTJDLENBQUM7S0FDakU7SUFDRCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBQztHQUNyQjs7RUFFRCxPQUFPLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxXQUFXO0lBQ25DLE9BQU8sSUFBSSxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUNuRDs7RUFFRCxTQUFTLE1BQU0sQ0FBQyxJQUFJLEVBQUU7SUFDcEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxRQUFRLEdBQUU7SUFDekIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxLQUFLLEVBQUU7TUFDN0MsSUFBSSxLQUFLLEVBQUU7UUFDVCxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBQztRQUM1QixJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUM7UUFDNUMsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBQztRQUMvQyxJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxFQUFFLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxFQUFDO09BQ2pFO0tBQ0YsRUFBQztJQUNGLE9BQU8sSUFBSTtHQUNaOztFQUVELFNBQVMsWUFBWSxDQUFDLFVBQVUsRUFBRTtJQUNoQyxJQUFJLE9BQU8sR0FBRyxJQUFJLE9BQU8sR0FBRTtJQUMzQixVQUFVLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLElBQUksRUFBRTtNQUMvQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBQztNQUMzQixJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxHQUFFO01BQzlCLElBQUksR0FBRyxFQUFFO1FBQ1AsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUU7UUFDbEMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFDO09BQzNCO0tBQ0YsRUFBQztJQUNGLE9BQU8sT0FBTztHQUNmOztFQUVELElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBQzs7RUFFNUIsU0FBUyxRQUFRLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRTtJQUNuQyxJQUFJLENBQUMsT0FBTyxFQUFFO01BQ1osT0FBTyxHQUFHLEdBQUU7S0FDYjs7SUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLFVBQVM7SUFDckIsSUFBSSxDQUFDLE1BQU0sR0FBRyxRQUFRLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBRztJQUN4RCxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBRztJQUNqRCxJQUFJLENBQUMsVUFBVSxHQUFHLFlBQVksSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFVBQVUsR0FBRyxLQUFJO0lBQ3JFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBQztJQUMzQyxJQUFJLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxHQUFHLElBQUksR0FBRTtJQUM1QixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBQztHQUN6Qjs7RUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUM7O0VBRTdCLFFBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFdBQVc7SUFDcEMsT0FBTyxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO01BQ2xDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtNQUNuQixVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVU7TUFDM0IsT0FBTyxFQUFFLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7TUFDbEMsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO0tBQ2QsQ0FBQztJQUNIOztFQUVELFFBQVEsQ0FBQyxLQUFLLEdBQUcsV0FBVztJQUMxQixJQUFJLFFBQVEsR0FBRyxJQUFJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxFQUFFLENBQUMsRUFBQztJQUM5RCxRQUFRLENBQUMsSUFBSSxHQUFHLFFBQU87SUFDdkIsT0FBTyxRQUFRO0lBQ2hCOztFQUVELElBQUksZ0JBQWdCLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFDOztFQUVoRCxRQUFRLENBQUMsUUFBUSxHQUFHLFNBQVMsR0FBRyxFQUFFLE1BQU0sRUFBRTtJQUN4QyxJQUFJLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtNQUMzQyxNQUFNLElBQUksVUFBVSxDQUFDLHFCQUFxQixDQUFDO0tBQzVDOztJQUVELE9BQU8sSUFBSSxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN0RTs7RUFFRCxJQUFJLENBQUMsT0FBTyxHQUFHLFFBQU87RUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFPO0VBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsU0FBUTs7RUFFeEIsSUFBSSxDQUFDLEtBQUssR0FBRyxTQUFTLEtBQUssRUFBRSxJQUFJLEVBQUU7SUFDakMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxTQUFTLE9BQU8sRUFBRSxNQUFNLEVBQUU7TUFDM0MsSUFBSSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksRUFBQztNQUN0QyxJQUFJLEdBQUcsR0FBRyxJQUFJLGNBQWMsR0FBRTs7TUFFOUIsR0FBRyxDQUFDLE1BQU0sR0FBRyxXQUFXO1FBQ3RCLElBQUksT0FBTyxHQUFHO1VBQ1osTUFBTSxFQUFFLEdBQUcsQ0FBQyxNQUFNO1VBQ2xCLFVBQVUsRUFBRSxHQUFHLENBQUMsVUFBVTtVQUMxQixPQUFPLEVBQUUsWUFBWSxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRSxJQUFJLEVBQUUsQ0FBQztVQUN6RDtRQUNELE9BQU8sQ0FBQyxHQUFHLEdBQUcsYUFBYSxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBQztRQUMzRixJQUFJLElBQUksR0FBRyxVQUFVLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDLGFBQVk7UUFDOUQsT0FBTyxDQUFDLElBQUksUUFBUSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsRUFBQztRQUNyQzs7TUFFRCxHQUFHLENBQUMsT0FBTyxHQUFHLFdBQVc7UUFDdkIsTUFBTSxDQUFDLElBQUksU0FBUyxDQUFDLHdCQUF3QixDQUFDLEVBQUM7UUFDaEQ7O01BRUQsR0FBRyxDQUFDLFNBQVMsR0FBRyxXQUFXO1FBQ3pCLE1BQU0sQ0FBQyxJQUFJLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxFQUFDO1FBQ2hEOztNQUVELEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksRUFBQzs7TUFFM0MsSUFBSSxPQUFPLENBQUMsV0FBVyxLQUFLLFNBQVMsRUFBRTtRQUNyQyxHQUFHLENBQUMsZUFBZSxHQUFHLEtBQUk7T0FDM0I7O01BRUQsSUFBSSxjQUFjLElBQUksR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUU7UUFDekMsR0FBRyxDQUFDLFlBQVksR0FBRyxPQUFNO09BQzFCOztNQUVELE9BQU8sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsS0FBSyxFQUFFLElBQUksRUFBRTtRQUM1QyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBQztPQUNsQyxFQUFDOztNQUVGLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxPQUFPLENBQUMsU0FBUyxLQUFLLFdBQVcsR0FBRyxJQUFJLEdBQUcsT0FBTyxDQUFDLFNBQVMsRUFBQztLQUM5RSxDQUFDO0lBQ0g7RUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxLQUFJO0NBQzNCLEVBQUUsT0FBTyxJQUFJLEtBQUssV0FBVyxHQUFHLElBQUksR0FBR0EsTUFBSSxDQUFDLENBQUM7O0FDNWM5QyxJQUFNQyxXQUFXLFNBQVhBLFFBQVcsQ0FBQ0MsQ0FBRCxFQUFPO1VBQ2RDLEtBQVIsQ0FBY0QsQ0FBZDtDQURGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDR0EsSUFBTUUsaUJBQWlCO29CQUNIO0NBRHBCOztBQUlBLElBQU1DLFlBQVksU0FBWkEsU0FBWSxDQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7YUFDNUIsS0FBVDthQUNTRCxPQUFUO2FBQ1MsS0FBVDthQUNTQyxRQUFUO0NBSko7O0FBT0EsSUFBTUMsMEJBQTBCLFNBQTFCQSx1QkFBMEI7V0FBTyxDQUFQO0NBQWhDOztBQUVBLElBQU1DLG9CQUFvQixTQUFwQkEsaUJBQW9CLENBQUNILE9BQUQsRUFBVUMsUUFBVixFQUFvQkcsU0FBcEIsRUFBeUU7UUFBMUNDLFdBQTBDLHVFQUE1QkgsdUJBQTRCOzthQUN0RkksSUFBVCxHQUFnQkMsSUFBaEIsQ0FDSSxVQUFDQyxDQUFELEVBQU87WUFDQ1AsU0FBU1EsT0FBVCxDQUFpQkMsR0FBakIsQ0FBcUIsY0FBckIsRUFBcUNDLE9BQXJDLENBQTZDLGtCQUE3QyxJQUFtRSxDQUFDLENBQXhFLEVBQTJFO3NCQUM3REMsS0FBS0MsS0FBTCxDQUFXTCxDQUFYLENBQVY7U0FESixNQUVPO3NCQUNPQSxDQUFWOztLQUxaLEVBUUksVUFBQ00sQ0FBRCxFQUFPO2lCQUNNLG9EQUFUO2tCQUNVZCxPQUFWLEVBQW1CQyxRQUFuQjtpQkFDU2EsQ0FBVDs7S0FYUjtDQURKOztBQWlCQSxJQUFNQyxlQUFlLFNBQWZBLFlBQWUsQ0FBQ0MsYUFBRCxFQUFtQjtXQUM3QixVQUFDQyxPQUFELEVBQVVDLElBQVYsRUFBbUI7WUFDaEJDLE1BQU1ILGNBQWNJLE1BQWQsR0FBdUIsS0FBdkIsR0FBK0JILE9BQS9CLEdBQXlDLEdBQXpDLEdBQStDRCxjQUFjSyxVQUE3RCxHQUEwRUgsSUFBdEY7ZUFDT0MsR0FBUDtLQUZKO0NBREo7O0FBT0EsSUFBTUcsY0FBYyxTQUFkQSxXQUFjLENBQUNDLElBQUQsRUFBT1AsYUFBUCxFQUF5Qjs7V0FFbEMsVUFBQ2hCLE9BQUQsRUFBVUksU0FBVixFQUFxQm9CLE9BQXJCLEVBQXdFO1lBQTFDbkIsV0FBMEMsdUVBQTVCSCx1QkFBNEI7O1lBQ3ZFLENBQUNjLGNBQWNLLFVBQW5CLEVBQStCO3FCQUNsQixtRkFBVDs7OztZQUlFWix1QkFBY1gsY0FBZCxFQUFpQ0UsUUFBUVMsT0FBekMsQ0FBTjs7O1lBR0ljLEtBQUtFLEtBQUwsSUFBZXpCLFFBQVEwQixJQUFSLEtBQWlCLFdBQXBDLEVBQWtEO29CQUN0Q0MsYUFBUixHQUF3QixZQUFZSixLQUFLRSxLQUF6Qzs7O1lBR0F6QixRQUFRMEIsSUFBUixJQUFpQjFCLFFBQVEwQixJQUFSLEtBQWlCLFdBQXRDLEVBQW9EO29CQUN4QyxlQUFSLElBQTJCMUIsUUFBUTBCLElBQW5DOzs7WUFHRVAsTUFBTUosYUFBYUMsYUFBYixFQUE0QmhCLFFBQVFpQixPQUFwQyxFQUE2Q2pCLFFBQVFrQixJQUFyRCxDQUFaOztjQUVNQyxHQUFOLEVBQVc7b0JBQ0NuQixRQUFRNEIsTUFBUixHQUFpQjVCLFFBQVE0QixNQUF6QixHQUFrQyxNQURuQzs0QkFBQTtrQkFHRDVCLFFBQVE2QixJQUFSLEdBQWVqQixLQUFLa0IsU0FBTCxDQUFlOUIsUUFBUTZCLElBQXZCLENBQWYsR0FBK0M3QixRQUFRK0IsSUFBUixHQUFlL0IsUUFBUStCLElBQXZCLEdBQThCO1NBSHZGLEVBSUd4QixJQUpILENBS0ksVUFBQ04sUUFBRCxFQUFjO2dCQUNOQSxTQUFTK0IsTUFBVCxJQUFtQixHQUFuQixJQUEwQi9CLFNBQVMrQixNQUFULEdBQWtCLEdBQWhELEVBQXFEO2tDQUMvQmhDLE9BQWxCLEVBQTJCQyxRQUEzQixFQUFxQ0csU0FBckMsRUFBZ0RDLFdBQWhEO2FBREosTUFFTyxJQUFJSixTQUFTK0IsTUFBVCxJQUFtQixHQUFuQixJQUEwQi9CLFNBQVMrQixNQUFULEdBQWtCLEdBQWhELEVBQXFEO3lCQUMvQywrRUFBVDswQkFDVWhDLE9BQVYsRUFBbUJDLFFBQW5CO2tDQUNrQkQsT0FBbEIsRUFBMkJDLFFBQTNCLEVBQXFDdUIsT0FBckM7YUFIRyxNQUlBLElBQUl2QixTQUFTK0IsTUFBVCxJQUFtQixHQUFuQixJQUEwQi9CLFNBQVMrQixNQUFULEdBQWtCLEdBQWhELEVBQXFEO3lCQUMvQyxxQ0FBVDswQkFDVWhDLE9BQVYsRUFBbUJDLFFBQW5CO2tDQUNrQkQsT0FBbEIsRUFBMkJDLFFBQTNCLEVBQXFDdUIsT0FBckM7YUFIRyxNQUlBLElBQUl2QixTQUFTK0IsTUFBVCxHQUFrQixHQUF0QixFQUEyQjt5QkFDckIsZUFBVDswQkFDVWhDLE9BQVYsRUFBbUJDLFFBQW5CO2tDQUNrQkQsT0FBbEIsRUFBMkJDLFFBQTNCLEVBQXFDdUIsT0FBckM7YUFIRyxNQUlBO3lCQUNNLDhHQUFUOzBCQUNVeEIsT0FBVixFQUFtQkMsUUFBbkI7OztTQXRCWixFQTBCSSxVQUFDSixLQUFELEVBQVc7cUJBQ0UsK0ZBQVQ7cUJBQ1NHLE9BQVQ7cUJBQ1MsS0FBVDtxQkFDU0gsS0FBVDt3QkFDWUEsS0FBWjtTQS9CUjtLQW5CSjtDQUZKOztBQ3RDQSxJQUFNSyw0QkFBMEIsU0FBMUJBLHVCQUEwQjtTQUFPLENBQVA7Q0FBaEM7O0lBRU0rQjtnQkFFU0MsTUFBYixFQUFxQjs7O1NBQ2RBLE1BQUwsR0FBY0EsTUFBZDs7Ozs7Ozs7Ozs7OzJCQVFNQyxVQUFVL0IsV0FBOEM7OztVQUFuQ29CLE9BQW1DLHVFQUF6QnRCLHlCQUF5Qjs7VUFDMUQsS0FBS2dDLE1BQUwsQ0FBWVgsSUFBWixDQUFpQkUsS0FBckIsRUFBNEI7aUJBQ2pCLGdFQUFUO2dCQUNRLEVBQUMsUUFBUSxtQkFBVCxFQUFSOzs7O1VBSUlNLE9BQU8sRUFBRUssVUFBVSxLQUFLRixNQUFMLENBQVlYLElBQVosQ0FBaUJhLFFBQTdCLEVBQXVDRCxrQkFBdkMsRUFBYjtVQUNJLEtBQUtELE1BQUwsQ0FBWVgsSUFBWixDQUFpQmMsS0FBckIsRUFBNEI7YUFDckJBLEtBQUwsR0FBYSxLQUFLSCxNQUFMLENBQVlYLElBQVosQ0FBaUJjLEtBQTlCOztVQUVFLEtBQUtILE1BQUwsQ0FBWVgsSUFBWixDQUFpQmUsTUFBckIsRUFBNkI7YUFDdEJBLE1BQUwsR0FBYyxLQUFLSixNQUFMLENBQVlYLElBQVosQ0FBaUJlLE1BQS9COzs7V0FHR0osTUFBTCxDQUFZSyxLQUFaLENBQ0UsRUFBQ3RCLFNBQVMsTUFBVixFQUFrQkMsTUFBTSxTQUF4QixFQUFtQ1csTUFBTUUsSUFBekMsRUFERixFQUVFLFVBQUNSLElBQUQsRUFBVTtjQUNIVyxNQUFMLENBQVlYLElBQVosZ0JBQ0ssTUFBS1csTUFBTCxDQUFZWCxJQURqQjtjQUVNQSxLQUFLaUIsU0FGWDtpQkFHU2pCLEtBQUtrQjs7WUFFVmxCLEtBQUttQixVQUFULEVBQXFCO2dCQUNkUixNQUFMLENBQVlYLElBQVosQ0FBaUJFLEtBQWpCLEdBQXlCRixLQUFLbUIsVUFBOUI7O2NBRUdSLE1BQUwsQ0FBWVMsUUFBWjtrQkFDVXBCLElBQVY7T0FaSixFQWNFLFVBQUNxQixDQUFELEVBQU87Z0JBQ0dDLEdBQVIsQ0FBWUQsQ0FBWjtnQkFDUUEsQ0FBUjtPQWhCSjs7OzswQkFvQktULFVBQVUvQixXQUE4Qzs7O1VBQW5Db0IsT0FBbUMsdUVBQXpCdEIseUJBQXlCOztVQUN6RCxLQUFLZ0MsTUFBTCxDQUFZWCxJQUFaLENBQWlCRSxLQUFyQixFQUE0QjtpQkFDakIsZ0VBQVQ7Z0JBQ1EsRUFBQyxRQUFRLG1CQUFULEVBQVI7Ozs7V0FJR1MsTUFBTCxDQUFZSyxLQUFaLENBQ0UsRUFBQ3RCLFNBQVMsTUFBVixFQUFrQkMsTUFBTSxRQUF4QixFQUFrQ1csTUFBTSxFQUFDTyxVQUFVLEtBQUtGLE1BQUwsQ0FBWVgsSUFBWixDQUFpQmEsUUFBNUIsRUFBc0NELGtCQUF0QyxFQUF4QyxFQURGLEVBRUUsVUFBQ1osSUFBRCxFQUFVO2VBQ0hXLE1BQUwsQ0FBWVgsSUFBWixnQkFDSyxPQUFLVyxNQUFMLENBQVlYLElBRGpCO2NBRU1BLEtBQUtpQixTQUZYO2lCQUdTakIsS0FBS2tCLFlBSGQ7aUJBSVNsQixLQUFLbUI7O2VBRVRSLE1BQUwsQ0FBWVMsUUFBWjtrQkFDVXBCLElBQVY7T0FWSixFQVlFLFVBQUNxQixDQUFELEVBQU87Z0JBQ0dDLEdBQVIsQ0FBWUQsQ0FBWjtnQkFDUUEsQ0FBUjtPQWRKOzs7OzJCQWtCTXhDLFdBQThDOzs7VUFBbkNvQixPQUFtQyx1RUFBekJ0Qix5QkFBeUI7O1dBQy9DZ0MsTUFBTCxDQUFZSyxLQUFaLENBQ0UsRUFBQ3RCLFNBQVMsTUFBVixFQUFrQkMsTUFBTSxjQUF4QixFQURGLEVBRUUsWUFBTTtlQUNDZ0IsTUFBTCxDQUFZWSxTQUFaOztPQUhKLEVBTUUsVUFBQ0YsQ0FBRCxFQUFPO2dCQUNHQyxHQUFSLENBQVlELENBQVo7Z0JBQ1FBLENBQVI7T0FSSjs7OztrQ0FZWVQsVUFBVTtVQUNsQlksT0FBTyxJQUFYO2FBQ1MsSUFBSUMsT0FBSixDQUFZLFVBQVNDLE9BQVQsRUFBa0JDLE1BQWxCLEVBQTBCO2FBQ3BDQyxNQUFMLENBQVloQixRQUFaLEVBQXNCLFVBQVNsQyxRQUFULEVBQW1CO2tCQUM3QkEsUUFBUjtTQURKLEVBRUcsVUFBU0osS0FBVCxFQUFnQjtpQkFDUkEsS0FBUDtTQUhKLEVBSUcsVUFBU3VELFNBQVQsRUFBb0I7aUJBQ1pBLFNBQVA7U0FMSjtPQURHLENBQVA7Ozs7aUNBV1NqQixVQUFVO1VBQ2pCWSxPQUFPLElBQVg7YUFDUyxJQUFJQyxPQUFKLENBQVksVUFBU0MsT0FBVCxFQUFrQkMsTUFBbEIsRUFBMEI7YUFDcENHLEtBQUwsQ0FBV2xCLFFBQVgsRUFBcUIsVUFBU2xDLFFBQVQsRUFBbUI7a0JBQzVCQSxRQUFSO1NBREosRUFFRyxVQUFTSixLQUFULEVBQWdCO2lCQUNSQSxLQUFQO1NBSEosRUFJRyxVQUFTdUQsU0FBVCxFQUFvQjtpQkFDWkEsU0FBUDtTQUxKO09BREcsQ0FBUDs7OztvQ0FXWTtVQUNWTCxPQUFPLElBQVg7YUFDUyxJQUFJQyxPQUFKLENBQVksVUFBU0MsT0FBVCxFQUFrQkMsTUFBbEIsRUFBMEI7YUFDcENJLE1BQUwsQ0FBWSxVQUFTckQsUUFBVCxFQUFtQjtrQkFDbkJBLFFBQVI7U0FESixFQUVHLFVBQVNKLEtBQVQsRUFBZ0I7aUJBQ1JBLEtBQVA7U0FISjtPQURHLENBQVA7Ozs7OztBQ2xITixJQUFNSyw0QkFBMEIsU0FBMUJBLHVCQUEwQjtTQUFPLENBQVA7Q0FBaEM7O0lBRU1xRDtnQkFDUXJCLE1BQVosRUFBb0I7OztTQUNiQSxNQUFMLEdBQWNBLE1BQWQ7Ozs7O2dDQUdVUixNQUFNOEIsT0FBT3BELFdBQThDO1VBQW5Db0IsT0FBbUMsdUVBQXpCdEIseUJBQXlCOztXQUNoRXNELEtBQUwsQ0FBV0EsS0FBWCxFQUFrQnBELFNBQWxCLEVBQTZCb0IsT0FBN0IsRUFBc0NFLElBQXRDOzs7O3VDQUdpQkEsTUFBTThCLE9BQU87V0FDekJDLFlBQUwsQ0FBa0JELEtBQWxCLEVBQXlCOUIsSUFBekI7Ozs7MEJBR0k4QixRQUFPcEQsV0FBMkQ7VUFBaERvQixPQUFnRCx1RUFBdEN0Qix5QkFBc0M7VUFBYndCLElBQWEsdUVBQU4sSUFBTTs7VUFDaEVnQyxPQUFPLEVBQUN6QyxTQUFTLE1BQVYsRUFBa0JDLE1BQU0sV0FBeEIsRUFBcUNXLE1BQU0yQixNQUEzQyxFQUFiO1VBQ0k5QixJQUFKLEVBQVU7YUFDSEEsSUFBTCxHQUFZQSxJQUFaOztXQUVHUSxNQUFMLENBQVlLLEtBQVosQ0FDRW1CLElBREYsRUFFRSxVQUFDQyxNQUFELEVBQVk7a0JBQ0FBLE1BQVY7T0FISixFQUtFLFVBQUM3QyxDQUFELEVBQU87aUJBQ0lBLENBQVQ7Z0JBQ1FBLENBQVI7T0FQSjs7OztpQ0FXVzBDLE9BQU85QixNQUFNO1VBQ3BCcUIsT0FBTyxJQUFYO2FBQ08sSUFBSUMsT0FBSixDQUFZLFVBQVVDLE9BQVYsRUFBbUJDLE1BQW5CLEVBQTJCO2FBQ3ZDTSxLQUFMLENBQVdBLEtBQVgsRUFBa0IsVUFBVUksT0FBVixFQUFtQjtrQkFDM0JBLE9BQVI7U0FERixFQUVHLFVBQVUvRCxLQUFWLEVBQWlCO2lCQUNYQSxLQUFQO1NBSEYsRUFJRzZCLElBSkg7T0FESyxDQUFQOzs7Ozs7QUNqQ0osSUFBTXhCLDRCQUEwQixTQUExQkEsdUJBQTBCO1NBQU8sQ0FBUDtDQUFoQzs7QUFFQSxJQUFNMkQsT0FBTyxTQUFQQSxJQUFPO1NBQU8sdUNBQXVDQyxPQUF2QyxDQUErQyxPQUEvQyxFQUF3RCxVQUFTQyxDQUFULEVBQVk7UUFDbEZuQixJQUFJb0IsS0FBS0MsTUFBTCxLQUFjLEVBQWQsR0FBaUIsQ0FBekI7UUFBNEJDLElBQUlILEtBQUssR0FBTCxHQUFXbkIsQ0FBWCxHQUFnQkEsSUFBRSxHQUFGLEdBQU0sR0FBdEQ7V0FDT3NCLEVBQUVDLFFBQUYsQ0FBVyxFQUFYLENBQVA7R0FGa0IsQ0FBUDtDQUFiOztJQUtNQztnQkFDU2xDLE1BQWIsRUFBcUI7OztTQUNkQSxNQUFMLEdBQWNBLE1BQWQ7Ozs7O2lDQUdXbUMsb0JBQW9CO2FBQ3hCLElBQUlyQixPQUFKLENBQVksVUFBU0MsT0FBVCxFQUFrQkMsTUFBbEIsRUFBMEI7YUFDdENNLEtBQUwsQ0FBV2Esa0JBQVgsRUFBK0IsVUFBU3BFLFFBQVQsRUFBbUI7a0JBQ3hDQSxRQUFSO1NBREYsRUFFRyxVQUFTSixLQUFULEVBQWdCO2lCQUNWQSxLQUFQO1NBSEY7T0FESyxDQUFQOzs7OzBCQVNJd0Usb0JBQW9CakUsV0FBV29CLFNBQVM7VUFDdENrQyxPQUFPVyxrQkFBYjtXQUNLbkMsTUFBTCxDQUFZSyxLQUFaLENBQ0VtQixJQURGLEVBRUUsVUFBQ0MsTUFBRCxFQUFZO2tCQUNBQSxNQUFWO09BSEosRUFLRSxVQUFDN0MsQ0FBRCxFQUFPO2lCQUNJQSxDQUFUO2dCQUNRQSxDQUFSO09BUEo7Ozs7a0NBV1l3RCxXQUFXO2FBQ2hCLElBQUl0QixPQUFKLENBQVksVUFBU0MsT0FBVCxFQUFrQkMsTUFBbEIsRUFBMEI7YUFDdENxQixNQUFMLENBQVlELFNBQVosRUFBdUIsVUFBU3JFLFFBQVQsRUFBbUI7a0JBQ2hDQSxRQUFSO1NBREYsRUFFRyxVQUFTSixLQUFULEVBQWdCO2lCQUNWQSxLQUFQO1NBSEY7T0FESyxDQUFQOzs7OzJCQVNLeUUsV0FBV2xFLFdBQThDO1VBQW5Db0IsT0FBbUMsdUVBQXpCdEIseUJBQXlCOztVQUN4RHNFLE9BQU9GLFVBQVVHLEtBQVYsQ0FBZ0IsQ0FBaEIsQ0FBYjtVQUNJLENBQUNELElBQUwsRUFBVztpQkFDQSw4REFBVDtpQkFDU0YsU0FBVDs7OztVQUlJRCxxQkFBcUI7aUJBQ2hCLFdBRGdCOzRCQUVQUixNQUZPO2lCQUdoQixFQUFDLGdCQUFnQlcsS0FBS0UsSUFBdEIsRUFIZ0I7Y0FJbkJGO09BSlI7O1dBT0toQixLQUFMLENBQVdhLGtCQUFYLEVBQStCakUsU0FBL0IsRUFBMENvQixPQUExQzs7Ozs0QkFHS21ELFFBQVF2RSxXQUE4QztVQUFuQ29CLE9BQW1DLHVFQUF6QnRCLHlCQUF5Qjs7VUFDckRtRSxxQkFBcUI7aUJBQ2hCLFdBRGdCO2dCQUVqQixRQUZpQjs0QkFHUE07T0FIcEI7O1dBTUtuQixLQUFMLENBQVdhLGtCQUFYLEVBQStCakUsU0FBL0IsRUFBMENvQixPQUExQzs7OztrQ0FHWW1ELFFBQVE7YUFDYixJQUFJM0IsT0FBSixDQUFZLFVBQVNDLE9BQVQsRUFBa0JDLE1BQWxCLEVBQTBCO2FBQ3RDMEIsTUFBTCxDQUFZRCxNQUFaLEVBQW9CLFVBQVMxRSxRQUFULEVBQW1CO2tCQUM3QkEsUUFBUjtTQURGLEVBRUcsVUFBU0osS0FBVCxFQUFnQjtpQkFDVkEsS0FBUDtTQUhGO09BREssQ0FBUDs7Ozs2QkFTTzhFLFFBQVE7VUFDWEUsT0FBT0MsU0FBU0MsYUFBVCxDQUF1QixHQUF2QixDQUFYO1dBQ0tDLFFBQUwsR0FBZ0JMLE1BQWhCO1dBQ0tNLElBQUwsR0FBWSxLQUFLL0MsTUFBTCxDQUFZZ0QsTUFBWixDQUFtQixXQUFuQixnQkFBNENQLE1BQTVDLENBQVo7V0FDS1EsS0FBTDs7Ozs7O0FDcEZKLElBQU1DLFdBQVc7WUFDTCxXQURLO01BRVgsQ0FGVztTQUdSLENBQUMsV0FBRCxDQUhRO1NBSVI7Q0FKVDs7QUFPQSxJQUFNQyxlQUFlQyxPQUFPRCxZQUE1Qjs7SUFFTW5EOzs7Ozs7O29CQU9XOzs7O1FBRVBxRCxJQUFJRixhQUFhRyxPQUFiLENBQXFCLGFBQXJCLENBQVY7UUFDSUQsQ0FBSixFQUFPO1dBQ0FoRSxJQUFMLEdBQVlYLEtBQUtDLEtBQUwsQ0FBVzBFLENBQVgsQ0FBWjtLQURGLE1BRU87V0FDQWhFLElBQUwsR0FBWTZELFFBQVo7OztTQUdHcEUsYUFBTCxHQUFxQjtjQUNYLE9BRFc7a0JBRVA7S0FGZDtTQUlLeUUsVUFBTDtTQUNLQyxJQUFMLEdBQVksSUFBSXpELElBQUosQ0FBUyxJQUFULENBQVo7U0FDSzBELElBQUwsR0FBWSxJQUFJcEMsSUFBSixDQUFTLElBQVQsQ0FBWjtTQUNLaUIsSUFBTCxHQUFZLElBQUlKLElBQUosQ0FBUyxJQUFULENBQVo7Ozs7O2lDQUdXO1dBQ043QixLQUFMLEdBQWFqQixZQUFZLEtBQUtDLElBQWpCLEVBQXVCLEtBQUtQLGFBQTVCLENBQWI7VUFDSStCLE9BQU8sSUFBWDtXQUNLNkMsWUFBTCxHQUFvQixVQUFDcEMsS0FBRCxFQUFXO2VBQ3RCLElBQUlSLE9BQUosQ0FBWSxVQUFTQyxPQUFULEVBQWtCQyxNQUFsQixFQUEwQjtlQUN0Q1gsS0FBTCxDQUFXaUIsS0FBWCxFQUFrQixVQUFTdkQsUUFBVCxFQUFtQjtvQkFDM0JBLFFBQVI7V0FERixFQUVHLFVBQVNKLEtBQVQsRUFBZ0I7bUJBQ1ZBLEtBQVA7V0FIRjtTQURLLENBQVA7T0FERjtXQVNLcUYsTUFBTCxHQUFjbkUsYUFBYSxLQUFLQyxhQUFsQixDQUFkO2FBQ08sSUFBUDs7OzsrQkFHVTZFLE1BQU07V0FDWDdFLGFBQUwsQ0FBbUJLLFVBQW5CLEdBQWdDd0UsT0FBTyxnQkFBdkM7V0FDS0osVUFBTDthQUNPLElBQVA7Ozs7a0NBR1lwRSxZQUFZO1dBQ25CTCxhQUFMLENBQW1CSyxVQUFuQixHQUFnQ0EsVUFBaEM7V0FDS29FLFVBQUw7YUFDTyxJQUFQOzs7O21DQUdhO1dBQ1J6RSxhQUFMLENBQW1CSSxNQUFuQixHQUE0QixNQUE1QjtXQUNLcUUsVUFBTDs7OztnQ0FHVXJELFVBQVU7V0FDZmIsSUFBTCxDQUFVYSxRQUFWLEdBQXFCQSxRQUFyQjtXQUNLTyxRQUFMOzs7O2dDQUdVbUQsVUFBVTs7O1dBQ2Z2RSxJQUFMLGdCQUNLLEtBQUtBLElBRFY7WUFFTXVFLFNBQVN0RCxTQUZmO2VBR1NzRCxTQUFTckQsWUFIbEI7ZUFJU3FELFNBQVNwRDs7O09BR2pCLFVBQUQsRUFBYSxPQUFiLEVBQXNCLFFBQXRCLEVBQWdDcUQsR0FBaEMsQ0FBb0MsYUFBSztjQUNsQ3hFLElBQUwsQ0FBVXlFLENBQVYsSUFBZUYsU0FBU0UsQ0FBVCxJQUFjRixTQUFTRSxDQUFULENBQWQsR0FBNEIsTUFBS3pFLElBQUwsQ0FBVXlFLENBQVYsQ0FBM0M7T0FERjs7V0FJS3JELFFBQUw7Ozs7K0JBR1M7bUJBQ0lzRCxPQUFiLENBQXFCLGFBQXJCLEVBQW9DckYsS0FBS2tCLFNBQUwsQ0FBZSxLQUFLUCxJQUFwQixDQUFwQztXQUNLa0UsVUFBTDs7OztnQ0FHVTtXQUNMbEUsSUFBTCxHQUFZNkQsUUFBWjtXQUNLekMsUUFBTDs7OzttQ0FHYTtXQUFPRyxTQUFMOzs7Ozs7QUFJbkIsV0FBZ0IsSUFBSVosTUFBSixFQUFoQjs7Ozs7Ozs7In0=
